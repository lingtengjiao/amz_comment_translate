# æ•°æ®é€è§†ï¼š18ç§é€è§†ç»„åˆ â†’ 5å¤§æ´å¯Ÿæ¨¡å—æ˜ å°„å…³ç³»

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜åŸæœ‰18ç§ç²¾é€‰é€è§†ç»„åˆå¦‚ä½•æ•´åˆåˆ°æ–°çš„5å¤§æ´å¯Ÿæ¨¡å—ä¸­ã€‚**æ‰€æœ‰18ç§ç»„åˆï¼ˆåŒ…æ‹¬5ä¸ª3Dç»„åˆï¼‰å·²100%å®ç°å®Œæˆã€‚**

> **æ›´æ–°æ—¥æœŸ**: 2026-01-25  
> **ç‰ˆæœ¬**: v2.1 - å­—æ®µçº§åˆ«å¯¹é½ç‰ˆ  
> **æ•°æ®æº**: åŸºäºå‰ç«¯çœŸå®å®ç°ï¼ˆ`frontend/src/app/components/share/review-reader/pivot/`ï¼‰

### æ›´æ–°è¯´æ˜ï¼ˆv2.1ï¼‰
- âœ… **å­—æ®µçº§åˆ«å¯¹é½**: æ‰€æœ‰æ•°æ®æºå­—æ®µå·²å¯¹é½åˆ°å­—æ®µçº§åˆ«
- âœ… **æ•°æ®æºåŒºåˆ†**: æ˜ç¡®åŒºåˆ† `review_theme_highlights` å’Œ `review_insights` ä¸¤ä¸ªè¡¨
- âœ… **æ¦‚è§ˆæ¨¡å—**: æ–°å¢5ä¸ªæ¦‚è§ˆæ¨¡å—ï¼ˆ1.0, 2.0, 3.0, 4.0, 5.0ï¼‰
- âœ… **æ ‡é¢˜ä¿®æ­£**: 4.1å’Œ4.2æ˜ç¡®æ ‡æ³¨ä¸º"å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾"
- âœ… **è®¡ç®—å‡½æ•°æ˜ å°„**: è¯¦ç»†åˆ—å‡ºæ¯ä¸ªå­æ¨¡å—çš„è®¡ç®—å‡½æ•°å’Œè¾“å…¥/è¾“å‡ºå­—æ®µ
- âœ… **AIè§£è¯»ç»“æ„**: ç»Ÿä¸€AIè§£è¯»å­—æ®µç»“æ„ï¼ˆkeyFindings, dataSupport, recommendations, severityï¼‰

---

## ä¸€ã€5å¤§æ´å¯Ÿæ¨¡å—æ€»è§ˆ

| æ¨¡å— | æ ¸å¿ƒé—®é¢˜ | å­æ¨¡å—æ•°é‡ | 3Dç»„åˆ | ä¸šåŠ¡ä»·å€¼ |
|------|---------|-----------|--------|---------|
| 1ï¸âƒ£ **äººç¾¤æ´å¯Ÿ** (WHO) | è°ä¹°ï¼Ÿè°ç”¨ï¼Ÿä¸ºä»€ä¹ˆä¹°ï¼Ÿ | 4ä¸ª | 1ä¸ª âœ… | ç²¾å‡†å®šä½ç›®æ ‡å—ä¼—ã€å†³ç­–é“¾è·¯åˆ†æ |
| 2ï¸âƒ£ **éœ€æ±‚æ´å¯Ÿ** (WHY) | ä¸ºä»€ä¹ˆä¹°ï¼Ÿæ»¡è¶³äº†å—ï¼Ÿ | 5ä¸ª | 1ä¸ª âœ… | éªŒè¯PMFã€è¯†åˆ«æ ¸å¿ƒç—›ç‚¹ |
| 3ï¸âƒ£ **äº§å“æ´å¯Ÿ** (WHAT) | äº§å“å“ªé‡Œå¥½ï¼Ÿå“ªé‡Œå·®ï¼Ÿ | 7ä¸ª | 0ä¸ª | æŒ‡å¯¼äº§å“è¿­ä»£ä¼˜å…ˆçº§ |
| 4ï¸âƒ£ **åœºæ™¯æ´å¯Ÿ** (WHERE/WHEN) | åœ¨å“ªç”¨ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ | 5ä¸ª | 2ä¸ª âœ… | æŒ–æ˜ä½¿ç”¨åœºæ™¯å’Œæµé‡å¯†ç  |
| 5ï¸âƒ£ **å“ç‰Œæ´å¯Ÿ** (BRAND) | ç”¨æˆ·å–œæ¬¢å—ï¼Ÿæ„¿æ„æ¨èå—ï¼Ÿ | 4ä¸ª | 1ä¸ª âœ… | è¯„ä¼°å“ç‰Œå¿ƒæ™ºå’Œå£ç¢‘æº¢ä»· |
| **æ€»è®¡** | - | **25ä¸ª** | **5ä¸ª** | **18ç§ç»„åˆå…¨è¦†ç›–** |

### å…³é”®æŒ‡æ ‡
- âœ… **2Dç»„åˆè¦†ç›–ç‡**: 15/15 (100%)
- âœ… **3Dç»„åˆè¦†ç›–ç‡**: 5/5 (100%)
- âœ… **æ€»ä½“å®Œæˆåº¦**: 25/25 (100%) - åŒ…å«5ä¸ªæ¦‚è§ˆæ¨¡å—
- ğŸ¨ **å¯è§†åŒ–ç»„ä»¶**: 
  - 3D: `SlicedHeatmapChart`ï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
  - 2D: `SankeyChart`ã€`HeatmapChart`ã€`GroupedBarChart`ã€`BiDirectionalBarChart`
  - 1D: è¿›åº¦æ¡ã€ç»Ÿè®¡å¡ç‰‡ã€è¯„åˆ†åˆ†å¸ƒ

---

## äºŒã€å¿«é€Ÿç´¢å¼•ï¼š23ä¸ªå­æ¨¡å—ï¼ˆå«æ¦‚è§ˆæ¨¡å—ï¼‰

### 1ï¸âƒ£ äººç¾¤æ´å¯Ÿï¼ˆ4ä¸ªï¼‰
- 1.0 äººç¾¤åˆ†å¸ƒæ¦‚è§ˆ
- 1.1 å†³ç­–é“¾è·¯åˆ†æ
- 1.2 äººç¾¤-å–ç‚¹åŒ¹é…åˆ†æ
- 1.3 å†³ç­–é€»è¾‘é“¾ ğŸ¯ï¼ˆ3Dï¼‰

### 2ï¸âƒ£ éœ€æ±‚æ´å¯Ÿï¼ˆ5ä¸ªï¼‰
- 2.0 åŠ¨æœºåˆ†å¸ƒæ¦‚è§ˆ
- 2.1 åˆšéœ€åœºæ™¯åˆ†æ
- 2.2 éœ€æ±‚æ»¡è¶³åº¦çŸ©é˜µ
- 2.3 å¿ƒæ™ºåŒ¹é…åˆ†æ
- 2.4 ç ”å‘ä¼˜å…ˆçº§ ğŸš¨ï¼ˆ3Dï¼‰

### 3ï¸âƒ£ äº§å“æ´å¯Ÿï¼ˆ7ä¸ªï¼‰
- 3.0 ç»´åº¦åˆ†å¸ƒæ¦‚è§ˆ
- 3.1 è‡´å‘½ç¼ºé™·è¯†åˆ«
- 3.2 ä¼˜åŠ£åŠ¿ç»´åº¦å¯¹æ¯”
- 3.3 ä¼˜åŠ¿æƒ…æ„Ÿåˆ†æ
- 3.4 åœºæ™¯åŒ–æ”¹è¿›å»ºè®®
- 3.5 åŠ¨æœºåˆ†å±‚ä¼˜åŒ–
- 3.6 ç»´åº¦å†²çªåˆ†æ

### 4ï¸âƒ£ åœºæ™¯æ´å¯Ÿï¼ˆ5ä¸ªï¼‰
- 4.0 åœºæ™¯è¦ç´ åˆ†å¸ƒ
- 4.1 åœ°ç‚¹Ã—æ—¶é—´çš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾
- 4.2 åœºæ™¯Ã—æƒ…æ„Ÿçš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾
- 4.3 çœŸå®ç”Ÿæ´»ç¬é—´ ğŸ¬ï¼ˆ3Dï¼‰
- 4.4 ç¯å¢ƒå†²çªåˆ†æ âš ï¸ï¼ˆ3Dï¼‰

### 5ï¸âƒ£ å“ç‰Œæ´å¯Ÿï¼ˆ4ä¸ªï¼‰
- 5.0 æƒ…æ„Ÿåˆ†å¸ƒæ¦‚è§ˆ
- 5.1 å“ç‰Œè®°å¿†ç‚¹ â­ï¼ˆ3Dï¼‰
- 5.2 ç”¨æˆ·æ¨èæ„æ„¿
- 5.3 å“ç‰Œæ ¸å¿ƒå¿ƒæ™º

---

## ä¸‰ã€æ˜ å°„å…³ç³»è¯¦è§£ï¼š18ç§é€è§†ç»„åˆ â†’ 5å¤§æ´å¯Ÿ

### ğŸ“Š 1. äººç¾¤æ´å¯Ÿ (WHO) - 4ä¸ªå­æ¨¡å—

#### 1.0 äººç¾¤åˆ†å¸ƒæ¦‚è§ˆ âœ…
- **å‰ç«¯æ ‡é¢˜**: `1.0 äººç¾¤åˆ†å¸ƒæ¦‚è§ˆ`
- **æ¶‰åŠçš„è¡¨**:
  - **è´­ä¹°è€…(buyer)**: `aggregated_themes.buyer[]` (èšåˆè‡ª `review_theme_highlights` è¡¨)
  - **ä½¿ç”¨è€…(user)**: `aggregated_themes.user[]` (èšåˆè‡ª `review_theme_highlights` è¡¨)
- **æ•°æ®æ¥æº**: 
  - `data.aggregated_themes.buyer` â†’ `{ label: string, count: number }[]`
  - `data.aggregated_themes.user` â†’ `{ label: string, count: number }[]`
- **å¯è§†åŒ–**: è¿›åº¦æ¡ï¼ˆProgress Barï¼‰
- **å­—æ®µæ˜ å°„**:
  - `buyerDistribution`: `{ label, count }[]` ä» `aggregated_themes.buyer` æå–
  - `userDistribution`: `{ label, count }[]` ä» `aggregated_themes.user` æå–
- **AIè§£è¯»å­—æ®µ**: 
  ```typescript
  {
    keyFindings: string[],
    dataSupport: string | Array<{ metric: string, value: string }>,
    recommendations: string[],
    severity: 'info' | 'success' | 'warning' | 'error'
  }
  ```

#### 1.1 å†³ç­–é“¾è·¯åˆ†æ âœ…
- **åŸç»„åˆ**: è´­ä¹°è€… Ã— ä½¿ç”¨è€… - å†³ç­–é”™ä½ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `1.1 å†³ç­–é“¾è·¯åˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **è´­ä¹°è€…(buyer)**: `review_theme_highlights` (`theme_type='buyer'`, `label_name`) + `aggregated_themes.buyer[]`
  - **ä½¿ç”¨è€…(user)**: `review_theme_highlights` (`theme_type='user'`, `label_name`) + `aggregated_themes.user[]`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'buyer' | 'user', label_name: string }`
- **å¯è§†åŒ–**: æ¡‘åŸºå›¾ (`SankeyChart`)
- **è®¡ç®—å‡½æ•°**: `calculateBuyerUserRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    buyers: string[],
    users: string[],
    pairs: Array<{ buyer: string, user: string, count: number, percent: number, reviewIds: string[] }>,
    totalReviews: number
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"ä¹°è€…éç”¨è€…"åœºæ™¯ï¼Œä¼˜åŒ–å¹¿å‘ŠæŠ•æ”¾å’Œæ–‡æ¡ˆè¯æœ¯
- **AIè§£è¯»ç±»å‹**: `decision_flow`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'decision_flow')?.interpretation`
- **ç¤ºä¾‹**: å®¶é•¿ä¹°ç»™å­©å­ï¼ˆç¤¼å“åœºæ™¯ï¼‰ã€è€æ¿ä¹°ç»™å‘˜å·¥ï¼ˆä¼ä¸šé‡‡è´­ï¼‰

#### 1.2 äººç¾¤-å–ç‚¹åŒ¹é…åˆ†æ âœ…
- **åŸç»„åˆ**: è´­ä¹°è€… Ã— äº§å“ä¼˜åŠ¿ - è½¬åŒ–é’©å­ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `1.2 äººç¾¤-å–ç‚¹åŒ¹é…åˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **è´­ä¹°è€…(buyer)**: `review_theme_highlights` (`theme_type='buyer'`, `label_name`) + `aggregated_themes.buyer[]`
  - **ä¼˜åŠ¿(strength)**: `review_insights` (`type='strength'`, `dimension`) + `aggregated_insights.strengths[]`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'buyer', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'strength', dimension: string }`
- **å¯è§†åŒ–**: åˆ†ç»„æŸ±çŠ¶å›¾ (`GroupedBarChart`)
- **è®¡ç®—å‡½æ•°**: `calculateBuyerStrengthRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    buyers: string[],
    strengths: string[],
    buyerStrengthMap: Record<string, Record<string, number>>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«ä¸åŒäººç¾¤æœ€å…³æ³¨çš„ä¼˜åŠ¿ç‚¹ â†’ å¹¿å‘Šç´ æå®šåˆ¶
- **AIè§£è¯»ç±»å‹**: `audience_strength`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'audience_strength')?.interpretation`
- **ç¤ºä¾‹**: å¥èº«äººç¾¤å…³æ³¨"ä¾¿æºæ€§"ï¼ŒåŠå…¬äººç¾¤å…³æ³¨"é™éŸ³"

#### 1.3 å†³ç­–é€»è¾‘é“¾ ğŸ¯ âœ…
- **åŸç»„åˆ**: è´­ä¹°è€… Ã— ä½¿ç”¨è€… Ã— åŠ¨æœº - å†³ç­–é€»è¾‘é“¾ï¼ˆ**3Dç»„åˆ**ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `1.3 å†³ç­–é€»è¾‘é“¾ ğŸ¯`
- **æ¶‰åŠçš„è¡¨**:
  - **è´­ä¹°è€…(buyer)**: `review_theme_highlights` (`theme_type='buyer'`) + `aggregated_themes.buyer[]` + `pivot_matrices.buyer_user_motivation` (ç¬¬1å±‚)
  - **ä½¿ç”¨è€…(user)**: `review_theme_highlights` (`theme_type='user'`) + `aggregated_themes.user[]` + `pivot_matrices.buyer_user_motivation` (ç¬¬2å±‚)
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]` + `pivot_matrices.buyer_user_motivation` (ç¬¬3å±‚)
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'buyer' | 'user' | 'why', label_name: string }`
- **å¯è§†åŒ–**: SlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateBuyerUserMotivationRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    buyers: string[],
    users: string[],
    motivations: string[],
    slices: Array<{
      layerLabel: string,  // è´­ä¹°è€…
      rows: string[],      // ä½¿ç”¨è€…
      columns: string[],   // åŠ¨æœº
      data: number[][],
      reviewIds: string[][][]
    }>
  }
  ```
- **äº¤äº’æ–¹å¼**: Tabåˆ‡æ¢è´­ä¹°è€…ï¼ŒæŸ¥çœ‹ã€Œä½¿ç”¨è€…Ã—åŠ¨æœºã€çƒ­åŠ›å›¾
- **ä¸šåŠ¡ä»·å€¼**: å®Œæ•´è¿˜åŸè´­ä¹°å†³ç­–è·¯å¾„ â†’ å¹¿å‘Šå—ä¼—å®šä½ã€è¯†åˆ«ç¤¼å“åœºæ™¯
- **AIè§£è¯»ç±»å‹**: `decision_logic_chain`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'decision_logic_chain')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.buyer_user_motivation`
- **çŠ¶æ€**: âœ… **å·²å®Œæ•´å®ç°**ï¼ˆ2026-01-24ï¼‰
- **ç¤ºä¾‹**: å®å¦ˆï¼ˆè´­ä¹°è€…ï¼‰â†’ å©´å„¿ï¼ˆä½¿ç”¨è€…ï¼‰â†’ å®‰å…¨éœ€æ±‚ï¼ˆåŠ¨æœºï¼‰

---

### ğŸ¯ 2. éœ€æ±‚æ´å¯Ÿ (WHY) - 5ä¸ªå­æ¨¡å—

#### 2.0 åŠ¨æœºåˆ†å¸ƒæ¦‚è§ˆ âœ…
- **å‰ç«¯æ ‡é¢˜**: `2.0 åŠ¨æœºåˆ†å¸ƒæ¦‚è§ˆ`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `aggregated_themes.why[]` (èšåˆè‡ª `review_theme_highlights` è¡¨)
- **æ•°æ®æ¥æº**: `data.aggregated_themes.why` â†’ `{ label: string, count: number }[]`
- **å¯è§†åŒ–**: è¿›åº¦æ¡ï¼ˆProgress Barï¼‰
- **å­—æ®µæ˜ å°„**: `motivationDistribution` â†’ `{ label, count }[]`
- **AIè§£è¯»å­—æ®µ**: å†…è”ç”Ÿæˆï¼ˆéåç«¯AIï¼‰

#### 2.1 åˆšéœ€åœºæ™¯åˆ†æ âœ…
- **åŸç»„åˆ**: åŠ¨æœº Ã— åœ°ç‚¹ - åˆšéœ€åœºæ™¯ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `2.1 åˆšéœ€åœºæ™¯åˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]` + `pivot_matrices.motivation_location` (è¡Œ)
  - **åœ°ç‚¹(where)**: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.motivation_location` (åˆ—)
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'why' | 'where', label_name: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾ (`HeatmapChart`)
- **è®¡ç®—å‡½æ•°**: `calculateMotivationLocationRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    motivations: string[],
    locations: string[],
    motivationLocationMap: Record<string, Record<string, number>>,
    motivationLocationData: Array<{ motivation: string, location: string, count: number }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«é«˜é¢‘é«˜æ»¡æ„åº¦åœºæ™¯ â†’ æ‰¾åˆ°äº§å“çš„"é»„é‡‘ä½¿ç”¨åœºæ™¯"
- **AIè§£è¯»ç±»å‹**: `motivation_location`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'motivation_location')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.motivation_location`
- **ç¤ºä¾‹**: åŠå…¬å®¤ Ã— æå‡æ•ˆç‡åŠ¨æœºï¼Œé«˜é¢‘å‡ºç° = æ ¸å¿ƒåˆšéœ€åœºæ™¯

#### 2.2 éœ€æ±‚æ»¡è¶³åº¦çŸ©é˜µ âœ…
- **åŸç»„åˆ**: åŠ¨æœº Ã— æƒ…æ„Ÿå€¾å‘ - æœŸæœ›è½å·®ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `2.2 éœ€æ±‚æ»¡è¶³åº¦çŸ©é˜µ`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
  - **æƒ…æ„Ÿå€¾å‘(sentiment)**: `reviews.sentiment`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'why', label_name: string }`
  - `review.sentiment` â†’ `'positive' | 'neutral' | 'negative'`
- **å¯è§†åŒ–**: æƒ…æ„Ÿçƒ­åŠ›å›¾ (`HeatmapChart` with `colorScheme="sentiment"`)
- **è®¡ç®—å‡½æ•°**: `calculateMotivationSentimentRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    motivations: string[],
    motivationSentiment: Array<{
      motivation: string,
      positive: number,
      neutral: number,
      negative: number,
      total: number
    }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"æœŸæœ›é«˜ä½†æ»¡æ„åº¦ä½"çš„éœ€æ±‚ â†’ å·®è¯„é¢„è­¦
- **AIè§£è¯»ç±»å‹**: `demand_satisfaction`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'demand_satisfaction')?.interpretation`
- **ç¤ºä¾‹**: æœŸæœ›"é•¿ç»­èˆª"ä½†è¯„è®ºè´Ÿé¢æƒ…ç»ªé«˜ â†’ æ ¸å¿ƒç—›ç‚¹

#### 2.3 å¿ƒæ™ºåŒ¹é…åˆ†æ âœ…
- **åŸç»„åˆ**: åŠ¨æœº Ã— ç”¨æˆ·æƒ…æ„Ÿæ ‡ç­¾ - å¿ƒæ™ºåŒ¹é…ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `2.3 å¿ƒæ™ºåŒ¹é…åˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
  - **æƒ…æ„Ÿ(emotion)**: `review_insights` (`type='emotion'`, `dimension`) + `aggregated_insights.emotions[]`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'why', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'emotion', dimension: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾ (`HeatmapChart` with `colorScheme="frequency"`)
- **è®¡ç®—å‡½æ•°**: `calculateMotivationEmotionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    motivations: string[],
    emotions: string[],
    motivationEmotionMap: Record<string, Record<string, number>>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: éªŒè¯å“ç‰Œå®šä½ï¼Œåˆ†æåŠ¨æœºä¸æƒ…æ„Ÿçš„åŒ¹é…åº¦
- **AIè§£è¯»ç±»å‹**: `motivation_emotion`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'motivation_emotion')?.interpretation`
- **ç¤ºä¾‹**: è¿½æ±‚"å¥åº·"çš„ç”¨æˆ·æƒ…æ„Ÿæ˜¯"å®‰å¿ƒ"è¿˜æ˜¯"ç„¦è™‘"ï¼Ÿ

#### 2.4 ç ”å‘ä¼˜å…ˆçº§ ğŸš¨ âœ…
- **åŸç»„åˆ**: åŠ¨æœº Ã— åŠ£åŠ¿ Ã— å»ºè®® - ç ”å‘ä¼˜å…ˆçº§ï¼ˆ**3Dç»„åˆ**ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `2.4 ç ”å‘ä¼˜å…ˆçº§ ğŸš¨`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]` + `pivot_matrices.motivation_weakness_suggestion` (ç¬¬1å±‚)
  - **åŠ£åŠ¿(weakness)**: `review_insights` (`type='weakness'`, `dimension`) + `aggregated_insights.weaknesses[]` + `pivot_matrices.motivation_weakness_suggestion` (ç¬¬2å±‚)
  - **å»ºè®®(suggestion)**: `review_insights` (`type='suggestion'`, `dimension`) + `aggregated_insights.suggestions[]` + `pivot_matrices.motivation_weakness_suggestion` (ç¬¬3å±‚)
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'why', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'weakness' | 'suggestion', dimension: string }`
- **å¯è§†åŒ–**: SlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateMotivationWeaknessSuggestionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    motivations: string[],
    weaknesses: string[],
    suggestions: string[],
    slices: Array<{
      layerLabel: string,  // åŠ¨æœº
      rows: string[],      // åŠ£åŠ¿
      columns: string[],   // å»ºè®®
      data: number[][],
      reviewIds: string[][][]
    }>
  }
  ```
- **äº¤äº’æ–¹å¼**: Tabåˆ‡æ¢åŠ¨æœºï¼ŒæŸ¥çœ‹ã€ŒåŠ£åŠ¿Ã—å»ºè®®ã€çƒ­åŠ›å›¾
- **ä¸šåŠ¡ä»·å€¼**: æ ¸å¿ƒç—›ç‚¹è¯†åˆ« â†’ PRDä¼˜å…ˆçº§æ’åº
- **AIè§£è¯»ç±»å‹**: `rnd_priority`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'rnd_priority')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.motivation_weakness_suggestion`
- **çŠ¶æ€**: âœ… **å·²å®Œæ•´å®ç°**ï¼ˆ2026-01-24ï¼‰
- **ç¤ºä¾‹**: æ—…è¡Œåˆšéœ€åŠ¨æœº â†’ ç»­èˆªé—®é¢˜ï¼ˆåŠ£åŠ¿ï¼‰â†’ å¢åŠ ç”µæ± å®¹é‡ï¼ˆå»ºè®®ï¼‰

---

### ğŸ“¦ 3. äº§å“æ´å¯Ÿ (WHAT) - 7ä¸ªå­æ¨¡å—

#### 3.0 ç»´åº¦åˆ†å¸ƒæ¦‚è§ˆ âœ…
- **å‰ç«¯æ ‡é¢˜**: `3.0 ç»´åº¦åˆ†å¸ƒæ¦‚è§ˆ`
- **æ¶‰åŠçš„è¡¨**:
  - **ä¼˜åŠ¿(strength)**: `aggregated_insights.strengths[]` (èšåˆè‡ª `review_insights` è¡¨)
  - **åŠ£åŠ¿(weakness)**: `aggregated_insights.weaknesses[]` (èšåˆè‡ª `review_insights` è¡¨)
  - **å»ºè®®(suggestion)**: `aggregated_insights.suggestions[]` (èšåˆè‡ª `review_insights` è¡¨)
- **æ•°æ®æ¥æº**: 
  - `data.aggregated_insights.strengths` â†’ `{ dimension?: string }[]`
  - `data.aggregated_insights.weaknesses` â†’ `{ dimension?: string }[]`
  - `data.aggregated_insights.suggestions` â†’ `{ dimension?: string }[]`
- **å¯è§†åŒ–**: ç»Ÿè®¡å¡ç‰‡ï¼ˆ3ä¸ªå¡ç‰‡ï¼šä¼˜åŠ¿/åŠ£åŠ¿/å»ºè®®æ•°é‡ï¼‰
- **å­—æ®µæ˜ å°„**: 
  ```typescript
  {
    strengths: number,
    weaknesses: number,
    suggestions: number,
    strengthDetails: Record<string, number>,
    weaknessDetails: Record<string, number>
  }
  ```
- **AIè§£è¯»å­—æ®µ**: å†…è”ç”Ÿæˆï¼ˆéåç«¯AIï¼‰

#### 3.1 è‡´å‘½ç¼ºé™·è¯†åˆ« âœ…
- **åŸç»„åˆ**: äº§å“åŠ£åŠ¿ Ã— æƒ…æ„Ÿå€¾å‘ - ä¼˜å…ˆçº§ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.1 è‡´å‘½ç¼ºé™·è¯†åˆ«`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ£åŠ¿(weakness)**: `review_insights` (`type='weakness'`, `dimension`) + `aggregated_insights.weaknesses[]`
  - **æƒ…æ„Ÿå€¾å‘(sentiment)**: `reviews.sentiment`
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'weakness', dimension: string }`
  - `review.sentiment` â†’ `'positive' | 'neutral' | 'negative'`
- **å¯è§†åŒ–**: æƒ…æ„Ÿçƒ­åŠ›å›¾ (`HeatmapChart` with `colorScheme="sentiment"`)
- **è®¡ç®—å‡½æ•°**: `calculateWeaknessSentimentRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    weaknesses: string[],
    weaknessSentiment: Array<{
      weakness: string,
      positive: number,
      neutral: number,
      negative: number,
      total: number
    }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"é«˜è´Ÿé¢æƒ…ç»ª + é«˜æåŠ"çš„è‡´å‘½ç¼ºé™· â†’ æ”¹è¿›ä¼˜å…ˆçº§
- **AIè§£è¯»ç±»å‹**: `critical_weakness`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'critical_weakness')?.interpretation`
- **ç¤ºä¾‹**: ç”µæ± ç»­èˆªå·® + æ„¤æ€’æƒ…ç»ªé«˜ = å¿…é¡»ä¼˜å…ˆæ”¹è¿›

#### 3.2 ä¼˜åŠ£åŠ¿å¯¹æ¯” âœ…
- **åŸç»„åˆ**: äº§å“ä¼˜åŠ¿ Ã— äº§å“åŠ£åŠ¿ - å·®å¼‚åŒ–ç©ºæ¡£ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.2 ä¼˜åŠ£åŠ¿ç»´åº¦å¯¹æ¯”`
- **æ¶‰åŠçš„è¡¨**:
  - **ä¼˜åŠ¿(strength)**: `review_insights` (`type='strength'`, `dimension`) + `aggregated_insights.strengths[]`
  - **åŠ£åŠ¿(weakness)**: `review_insights` (`type='weakness'`, `dimension`) + `aggregated_insights.weaknesses[]`
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'strength' | 'weakness', dimension: string }`
- **å¯è§†åŒ–**: åŒå‘æŸ±çŠ¶å›¾ (`BiDirectionalBarChart`)
- **è®¡ç®—å‡½æ•°**: `calculateStrengthWeaknessComparison()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    dimensions: string[],
    strengthCounts: number[],
    weaknessCounts: number[]
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"çº¯ä¼˜åŠ¿æ— åŠ£åŠ¿"çš„ç»´åº¦ â†’ å·®å¼‚åŒ–æ–¹å‘
- **AIè§£è¯»ç±»å‹**: `strength_weakness`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'strength_weakness')?.interpretation`
- **ç¤ºä¾‹**: è®¾è®¡ç»´åº¦100%æ­£å‘è¯„ä»· â†’ æ ¸å¿ƒç«äº‰åŠ›

#### 3.3 ä¼˜åŠ¿æƒ…æ„Ÿåˆ†æ âœ…
- **åŸç»„åˆ**: äº§å“ä¼˜åŠ¿ Ã— ç”¨æˆ·æƒ…æ„Ÿæ ‡ç­¾ - å“ç‰Œæº¢ä»·ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.3 ä¼˜åŠ¿æƒ…æ„Ÿåˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **ä¼˜åŠ¿(strength)**: `review_insights` (`type='strength'`, `dimension`) + `aggregated_insights.strengths[]`
  - **æƒ…æ„Ÿ(emotion)**: `review_insights` (`type='emotion'`, `dimension`) + `aggregated_insights.emotions[]`
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'strength' | 'emotion', dimension: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾ (`HeatmapChart` with `colorScheme="frequency"`)
- **è®¡ç®—å‡½æ•°**: `calculateStrengthEmotionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    strengths: string[],
    emotions: string[],
    strengthEmotionMap: Record<string, Record<string, number>>,
    strengthEmotion: Array<{ strength: string, emotion: string, count: number }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«èƒ½è§¦å‘å¼ºçƒˆæ­£é¢æƒ…æ„Ÿçš„ä¼˜åŠ¿ç»´åº¦ â†’ å“ç‰Œæº¢ä»·ç‚¹
- **AIè§£è¯»ç±»å‹**: `strength_emotion`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'strength_emotion')?.interpretation`
- **ç¤ºä¾‹**: è®¾è®¡ç²¾ç¾ + ç”¨æˆ·éª„å‚²/æ»¡è¶³æƒ…æ„Ÿ(60%+) = å“ç‰Œæº¢ä»·ç©ºé—´

#### 3.4 åœºæ™¯åŒ–æ”¹è¿›å»ºè®® âœ…
- **åŸç»„åˆ**: åœ°ç‚¹ Ã— äº§å“æ”¹è¿›å»ºè®® - ç¡¬ä»¶å‡çº§ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.4 åœºæ™¯åŒ–æ”¹è¿›å»ºè®®`
- **æ¶‰åŠçš„è¡¨**:
  - **åœ°ç‚¹(where)**: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.location_suggestion` (è¡Œ)
  - **å»ºè®®(suggestion)**: `review_insights` (`type='suggestion'`, `dimension`) + `aggregated_insights.suggestions[]` + `pivot_matrices.location_suggestion` (åˆ—)
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'where', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'suggestion', dimension: string }`
- **å¯è§†åŒ–**: åˆ†ç»„æŸ±çŠ¶å›¾ (`GroupedBarChart`)
- **è®¡ç®—å‡½æ•°**: `calculateLocationSuggestionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    locations: string[],
    suggestions: string[],
    whereSuggestion: Array<{
      location: string,
      suggestions: Record<string, number>
    }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: ç¯å¢ƒç›¸å…³çš„ç¡¬ä»¶éœ€æ±‚ â†’ PRD
- **AIè§£è¯»ç±»å‹**: `improvement_priority`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'improvement_priority')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.location_suggestion`
- **ç¤ºä¾‹**: æˆ·å¤–ä½¿ç”¨åœºæ™¯é«˜é¢‘å»ºè®®"é˜²æ°´" â†’ ç¡¬ä»¶è¿­ä»£æ–¹å‘

#### 3.5 åŠ¨æœºåˆ†å±‚ä¼˜åŒ– âœ…
- **åŸç»„åˆ**: åŠ¨æœº Ã— äº§å“æ”¹è¿›å»ºè®® - ç”¨æˆ·åˆ†å±‚ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.5 åŠ¨æœºåˆ†å±‚ä¼˜åŒ–`
- **æ¶‰åŠçš„è¡¨**:
  - **åŠ¨æœº(why)**: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
  - **å»ºè®®(suggestion)**: `review_insights` (`type='suggestion'`, `dimension`) + `aggregated_insights.suggestions[]`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'why', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'suggestion', dimension: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾ (`HeatmapChart` with `colorScheme="frequency"`)
- **è®¡ç®—å‡½æ•°**: `calculateMotivationSuggestionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    motivations: string[],
    suggestions: string[],
    motivationSuggestionMap: Record<string, Record<string, number>>,
    motivationSuggestion: Array<{ motivation: string, suggestion: string, count: number }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: å‘ç°ä¸åŒè´­ä¹°åŠ¨æœºç”¨æˆ·çš„æ”¹è¿›è¯‰æ±‚å·®å¼‚ â†’ ç”¨æˆ·åˆ†å±‚ç­–ç•¥
- **AIè§£è¯»ç±»å‹**: `motivation_suggestion`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'motivation_suggestion')?.interpretation`
- **ç¤ºä¾‹**: è¿½æ±‚æ€§èƒ½çš„ç”¨æˆ·å»ºè®®"æå‡é…ç½®"ï¼Œè¿½æ±‚ä¾¿æºçš„å»ºè®®"å‡è½»é‡é‡"

#### 3.6 ç»´åº¦å†²çªåˆ†æ âœ…
- **åŸç»„åˆ**: äº§å“æ”¹è¿›å»ºè®® Ã— ä¼˜åŠ¿ç»´åº¦ - è´Ÿå‘ä¼˜åŒ–ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `3.6 ç»´åº¦å†²çªåˆ†æ`
- **æ¶‰åŠçš„è¡¨**:
  - **å»ºè®®(suggestion)**: `review_insights` (`type='suggestion'`, `dimension`) + `aggregated_insights.suggestions[]`
  - **ä¼˜åŠ¿(strength)**: `review_insights` (`type='strength'`, `dimension`) + `aggregated_insights.strengths[]`
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'strength' | 'suggestion', dimension: string }`
- **å¯è§†åŒ–**: è‡ªå®šä¹‰å†²çªåˆ†æå›¾è¡¨ï¼ˆåŒå‘è¿›åº¦æ¡ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateSuggestionStrengthRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    dimensions: string[],
    dimensionAnalysis: Array<{
      dimension: string,
      strengthCount: number,
      suggestionCount: number,
      conflictRate: number
    }>
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"ä¼˜åŠ¿è¢«æ”¹è¿›å»ºè®®æŠµæ¶ˆ"çš„ç»´åº¦ â†’ è¿­ä»£ä¼˜å…ˆçº§
- **AIè§£è¯»ç±»å‹**: `negative_optimization`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'negative_optimization')?.interpretation`
- **ç¤ºä¾‹**: è®¾è®¡å¥½çœ‹ï¼ˆä¼˜åŠ¿ï¼‰ä½†ç”¨æˆ·å»ºè®®"æ”¹è¿›æè´¨"ï¼ˆåŠ£åŠ¿ï¼‰ â†’ éœ€è¦å¹³è¡¡

---

### ğŸ“ 4. åœºæ™¯æ´å¯Ÿ (WHERE/WHEN) - 5ä¸ªå­æ¨¡å—

#### 4.0 åœºæ™¯è¦ç´ åˆ†å¸ƒ âœ…
- **å‰ç«¯æ ‡é¢˜**: `4.0 åœºæ™¯è¦ç´ åˆ†å¸ƒ`
- **æ¶‰åŠçš„è¡¨**:
  - **åœ°ç‚¹(where)**: `aggregated_themes.where[]` (èšåˆè‡ª `review_theme_highlights` è¡¨)
  - **æ—¶æœº(when)**: `aggregated_themes.when[]` (èšåˆè‡ª `review_theme_highlights` è¡¨)
  - **åœºæ™¯(scenario)**: `aggregated_themes.scenario[]` (èšåˆè‡ª `review_insights` è¡¨ï¼Œæ³¨æ„ï¼šåœºæ™¯ä» `insights` è¡¨è·å–)
- **æ•°æ®æ¥æº**: 
  - `data.aggregated_themes.where` â†’ `{ label: string, count: number }[]`
  - `data.aggregated_themes.when` â†’ `{ label: string, count: number }[]`
  - `data.aggregated_themes.scenario` â†’ `{ label: string, count: number }[]`
- **å¯è§†åŒ–**: 3åˆ—å¡ç‰‡å¸ƒå±€ï¼ˆåœ°ç‚¹/æ—¶æœº/åœºæ™¯ï¼‰
- **å­—æ®µæ˜ å°„**: 
  ```typescript
  {
    where: Array<{ label: string, count: number }>,
    when: Array<{ label: string, count: number }>,
    scenario: Array<{ label: string, count: number }>
  }
  ```
- **AIè§£è¯»å­—æ®µ**: å†…è”ç”Ÿæˆï¼ˆéåç«¯AIï¼‰

#### 4.1 åœ°ç‚¹Ã—æ—¶é—´çš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾ âœ…
- **åŸç»„åˆ**: åœ°ç‚¹ Ã— æ—¶é—´ - å®Œæ•´äº¤å‰å…³ç³»ï¼ˆåŸºç¡€2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `4.1 åœ°ç‚¹Ã—æ—¶é—´çš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾`
- **æ¶‰åŠçš„è¡¨**:
  - **åœ°ç‚¹(where)**: `review_theme_highlights` (`theme_type='where'`, `label_name`) + `aggregated_themes.where[]`
  - **æ—¶æœº(when)**: `review_theme_highlights` (`theme_type='when'`, `label_name`) + `aggregated_themes.when[]`
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'where' | 'when', label_name: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾è¡¨æ ¼ï¼ˆHTML Table with color intensityï¼‰
- **è®¡ç®—é€»è¾‘**: å†…è”è®¡ç®—ï¼ˆ`locationTimeMatrix`ï¼‰
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    matrix: Record<string, Record<string, number>>,
    locations: string[],  // æœ€å¤š6ä¸ª
    times: string[]       // æœ€å¤š5ä¸ª
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«é«˜é¢‘ä½¿ç”¨æ—¶ç©ºçš„å®Œæ•´äº¤å‰å…³ç³» â†’ æµé‡å¯†ç ï¼ˆæŠ•æ”¾æ—¶æ®µï¼‰
- **AIè§£è¯»ç±»å‹**: `scenario_distribution`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'scenario_distribution')?.interpretation`
- **ç¤ºä¾‹**: æ™¨è·‘ + é€šå‹¤æ—¶é—´ = æ—©ä¸Š6-8ç‚¹æŠ•æ”¾å¹¿å‘Š

#### 4.2 åœºæ™¯Ã—æƒ…æ„Ÿçš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾ âœ…
- **åŸç»„åˆ**: åœºæ™¯ Ã— æƒ…æ„Ÿ - å®Œæ•´äº¤å‰å…³ç³»ï¼ˆè¿›é˜¶2Dï¼‰
- **å‰ç«¯æ ‡é¢˜**: `4.2 åœºæ™¯Ã—æƒ…æ„Ÿçš„å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾`
- **æ¶‰åŠçš„è¡¨**:
  - **åœºæ™¯(scenario)**: `review_insights` (`type='scenario'`, `dimension`) + `aggregated_insights.scenarios[]` + `aggregated_themes.scenario[]`
  - **æƒ…æ„Ÿ(emotion)**: `review_insights` (`type='emotion'`, `dimension`) + `aggregated_insights.emotions[]` + `aggregated_themes.emotion[]`
  - âš ï¸ **æ³¨æ„**: åœºæ™¯å’Œæƒ…æ„Ÿéƒ½ä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'scenario' | 'emotion', dimension: string }`
- **å¯è§†åŒ–**: çƒ­åŠ›å›¾è¡¨æ ¼ï¼ˆHTML Table with color intensityï¼ŒåŒºåˆ†æ­£é¢/è´Ÿé¢æƒ…æ„Ÿï¼‰
- **è®¡ç®—é€»è¾‘**: å†…è”è®¡ç®—ï¼ˆ`scenarioEmotionMatrix`ï¼‰
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    matrix: Record<string, Record<string, number>>,
    scenarios: string[],  // æœ€å¤š6ä¸ª
    emotions: string[]    // æœ€å¤š6ä¸ª
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: ä¸åŒåœºæ™¯å¼•å‘çš„æƒ…æ„Ÿåé¦ˆçš„å®Œæ•´äº¤å‰å…³ç³» â†’ è§†è§‰æŒ‡å—ï¼ˆå“ç‰Œå®šè°ƒï¼‰
- **AIè§£è¯»ç±»å‹**: `scenario_sentiment`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'scenario_sentiment')?.interpretation`
- **ç¤ºä¾‹**: åŠå…¬åœºæ™¯æƒ…æ„Ÿ"ä¸“æ³¨/é«˜æ•ˆ" â†’ è§†è§‰é£æ ¼ï¼šç®€çº¦ã€ä¸“ä¸š

#### 4.3 çœŸå®ç”Ÿæ´»ç¬é—´ ğŸ¬ âœ…
- **åŸç»„åˆ**: åœ°ç‚¹ Ã— æ—¶æœº Ã— åœºæ™¯ - çœŸå®ç”Ÿæ´»ç¬é—´ï¼ˆ**3Dç»„åˆ**ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `4.3 çœŸå®ç”Ÿæ´»ç¬é—´ ğŸ¬`
- **æ¶‰åŠçš„è¡¨**:
  - **åœ°ç‚¹(where)**: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.location_time_scenario` (ç¬¬1å±‚)
  - **æ—¶æœº(when)**: `review_theme_highlights` (`theme_type='when'`) + `aggregated_themes.when[]` + `pivot_matrices.location_time_scenario` (ç¬¬2å±‚)
  - **åœºæ™¯(scenario)**: `review_insights` (`type='scenario'`, `dimension`) + `aggregated_insights.scenarios[]` + `pivot_matrices.location_time_scenario` (ç¬¬3å±‚)
  - âš ï¸ **æ³¨æ„**: åœºæ™¯ä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
- **æ•°æ®æ¥æº**: 
  - `review.theme_highlights[]` â†’ `{ theme_type: 'where' | 'when', label_name: string }`
  - `review.insights[]` â†’ `{ type: 'scenario', dimension: string }`
- **å¯è§†åŒ–**: SlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateLocationTimeScenarioRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    locations: string[],
    times: string[],
    scenarios: string[],
    slices: Array<{
      layerLabel: string,  // åœ°ç‚¹
      rows: string[],      // æ—¶æœº
      columns: string[],   // åœºæ™¯
      data: number[][],
      reviewIds: string[][][]
    }>
  }
  ```
- **äº¤äº’æ–¹å¼**: Tabåˆ‡æ¢åœ°ç‚¹ï¼ŒæŸ¥çœ‹ã€Œæ—¶æœºÃ—åœºæ™¯ã€çƒ­åŠ›å›¾
- **ä¸šåŠ¡ä»·å€¼**: å®Œæ•´è¿˜åŸç”¨æˆ·ä½¿ç”¨åœºæ™¯ â†’ äº§å“å®šä¹‰(PD)
- **AIè§£è¯»ç±»å‹**: `life_moment`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'life_moment')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.location_time_scenario`
- **çŠ¶æ€**: âœ… **å·²å®Œæ•´å®ç°**ï¼ˆ2026-01-24ï¼‰
- **æŠ€æœ¯ç‰¹æ€§**: 3Dæ•°æ®é™ç»´ä¸ºå¤šä¸ª2Dåˆ‡ç‰‡ï¼Œé€šè¿‡Tabäº¤äº’æµè§ˆ
- **ç¤ºä¾‹**: å¥èº«æˆ¿ï¼ˆåœ°ç‚¹ï¼‰+ æ™šä¸Šï¼ˆæ—¶æœºï¼‰+ åŠ›é‡è®­ç»ƒï¼ˆåœºæ™¯ï¼‰

#### 4.4 ç¯å¢ƒå†²çªåˆ†æ âš ï¸ âœ…
- **åŸç»„åˆ**: æƒ…æ„Ÿ Ã— äº§å“ç»´åº¦ Ã— åœ°ç‚¹ - ç¯å¢ƒå†²çªï¼ˆ**3Dç»„åˆ**ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `4.4 ç¯å¢ƒå†²çªåˆ†æ âš ï¸`
- **æ¶‰åŠçš„è¡¨**:
  - **æƒ…æ„Ÿ(emotion)**: `review_insights` (`type='emotion'`, `dimension`) + `aggregated_insights.emotions[]` + `pivot_matrices.emotion_dimension_location` (ç¬¬1å±‚)
  - **ç»´åº¦(dimension)**: `review_insights` (`type='strength'|'weakness'`, `dimension`) + `aggregated_insights.strengths[]` + `aggregated_insights.weaknesses[]` + `pivot_matrices.emotion_dimension_location` (ç¬¬2å±‚)
  - **åœ°ç‚¹(where)**: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.emotion_dimension_location` (ç¬¬3å±‚)
  - âš ï¸ **æ³¨æ„**: æƒ…æ„Ÿä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'emotion' | 'strength' | 'weakness', dimension: string }`
  - `review.theme_highlights[]` â†’ `{ theme_type: 'where', label_name: string }`
- **å¯è§†åŒ–**: SlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateEmotionDimensionLocationRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    emotions: string[],
    dimensions: string[],
    locations: string[],
    slices: Array<{
      layerLabel: string,  // æƒ…æ„Ÿ
      rows: string[],      // äº§å“ç»´åº¦ï¼ˆstrength + weaknessï¼‰
      columns: string[],   // åœ°ç‚¹
      data: number[][],
      reviewIds: string[][][]
    }>
  }
  ```
- **äº¤äº’æ–¹å¼**: Tabåˆ‡æ¢æƒ…æ„Ÿï¼ŒæŸ¥çœ‹ã€Œäº§å“ç»´åº¦Ã—åœ°ç‚¹ã€çƒ­åŠ›å›¾
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«ç‰¹å®šç¯å¢ƒä¸‹çš„äº§å“é—®é¢˜ â†’ äº§å“çº¿æ‰©å¼ 
- **AIè§£è¯»ç±»å‹**: `environment_conflict`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'environment_conflict')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.emotion_dimension_location`
- **çŠ¶æ€**: âœ… **å·²å®Œæ•´å®ç°**ï¼ˆ2026-01-24ï¼‰
- **ç¤ºä¾‹**: å¤±æœ›æƒ…æ„Ÿ + ç»­èˆªç»´åº¦ + æˆ·å¤–åœºæ™¯ â†’ æ¨å‡º"æˆ·å¤–å¢å¼ºç‰ˆ"

---

### â¤ï¸ 5. å“ç‰Œæ´å¯Ÿ (BRAND) - 4ä¸ªå­æ¨¡å—

#### 5.0 æƒ…æ„Ÿåˆ†å¸ƒæ¦‚è§ˆ âœ…
- **å‰ç«¯æ ‡é¢˜**: `5.0 æƒ…æ„Ÿåˆ†å¸ƒæ¦‚è§ˆ`
- **æ¶‰åŠçš„è¡¨**:
  - **æƒ…æ„Ÿ(emotion)**: `aggregated_themes.emotion[]` (èšåˆè‡ª `review_insights` è¡¨ï¼Œæ³¨æ„ï¼šæƒ…æ„Ÿä» `insights` è¡¨è·å–)
- **æ•°æ®æ¥æº**: `data.aggregated_themes.emotion` â†’ `{ label: string, count: number }[]`
- **å¯è§†åŒ–**: ç½‘æ ¼å¡ç‰‡ï¼ˆ2åˆ—Ã—3è¡Œï¼Œæœ€å¤š6ä¸ªæƒ…æ„Ÿæ ‡ç­¾ï¼‰
- **å­—æ®µæ˜ å°„**: `emotionDistribution` â†’ `{ label, count }[]`
- **AIè§£è¯»å­—æ®µ**: å†…è”ç”Ÿæˆï¼ˆéåç«¯AIï¼‰

#### 5.1 å“ç‰Œè®°å¿†ç‚¹ â­ âœ…
- **åŸç»„åˆ**: äº§å“ä¼˜åŠ¿ Ã— åœºæ™¯ Ã— æƒ…æ„Ÿæ ‡ç­¾ - å“ç‰Œè®°å¿†ç‚¹ï¼ˆ**3Dç»„åˆ**ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `5.1 å“ç‰Œè®°å¿†ç‚¹ â­`
- **æ¶‰åŠçš„è¡¨**:
  - **ä¼˜åŠ¿(strength)**: `review_insights` (`type='strength'`, `dimension`) + `aggregated_insights.strengths[]` + `pivot_matrices.strength_scenario_emotion` (ç¬¬1å±‚)
  - **åœºæ™¯(scenario)**: `review_insights` (`type='scenario'`, `dimension`) + `aggregated_insights.scenarios[]` + `pivot_matrices.strength_scenario_emotion` (ç¬¬2å±‚)
  - **æƒ…æ„Ÿ(emotion)**: `review_insights` (`type='emotion'`, `dimension`) + `aggregated_insights.emotions[]` + `pivot_matrices.strength_scenario_emotion` (ç¬¬3å±‚)
  - âš ï¸ **æ³¨æ„**: åœºæ™¯å’Œæƒ…æ„Ÿéƒ½ä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
- **æ•°æ®æ¥æº**: 
  - `review.insights[]` â†’ `{ type: 'strength' | 'scenario' | 'emotion', dimension: string }`
- **å¯è§†åŒ–**: SlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰
- **è®¡ç®—å‡½æ•°**: `calculateStrengthScenarioEmotionRelation()`
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    strengths: string[],
    scenarios: string[],
    emotions: string[],
    slices: Array<{
      layerLabel: string,  // äº§å“ä¼˜åŠ¿
      rows: string[],      // åœºæ™¯
      columns: string[],   // æƒ…æ„Ÿ
      data: number[][],
      reviewIds: string[][][]
    }>
  }
  ```
- **äº¤äº’æ–¹å¼**: Tabåˆ‡æ¢äº§å“ä¼˜åŠ¿ï¼ŒæŸ¥çœ‹ã€Œåœºæ™¯Ã—æƒ…æ„Ÿã€çƒ­åŠ›å›¾
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«"ä¼˜åŠ¿+åœºæ™¯+æ­£å‘æƒ…æ„Ÿ"çš„å¼ºå…³è” â†’ A+è„šæœ¬/ä¸»å›¾è§†é¢‘
- **AIè§£è¯»ç±»å‹**: `brand_memory`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'brand_memory')?.interpretation`
- **åç«¯é¢„èšåˆ**: `pivot_matrices.strength_scenario_emotion`
- **çŠ¶æ€**: âœ… **å·²å®Œæ•´å®ç°**ï¼ˆ2026-01-24ï¼‰
- **ç¤ºä¾‹**: ä¾¿æºæ€§ï¼ˆä¼˜åŠ¿ï¼‰+ æ—…è¡Œåœºæ™¯ + è‡ªç”±æ„Ÿï¼ˆæƒ…æ„Ÿï¼‰= å“ç‰Œè®°å¿†ç‚¹

#### 5.2 ç”¨æˆ·æ¨èæ„æ„¿ âœ…
- **åŸç»„åˆ**: æƒ…æ„Ÿå€¾å‘ + æ¨èæ„æ„¿ï¼ˆæ–°å¢ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `5.2 ç”¨æˆ·æ¨èæ„æ„¿`
- **æ¶‰åŠçš„è¡¨**:
  - **è¯„åˆ†(rating)**: `reviews.rating`
  - **æƒ…æ„Ÿå€¾å‘(sentiment)**: `reviews.sentiment` (ç”¨äºè®¡ç®—æ¨èç‡)
- **æ•°æ®æ¥æº**: 
  - `review.rating` â†’ `1 | 2 | 3 | 4 | 5`
- **å¯è§†åŒ–**: 
  - å…³é”®æŒ‡æ ‡å¡ç‰‡ï¼ˆå¹³å‡è¯„åˆ†ã€æ¨èç‡ï¼‰
  - è¯„åˆ†åˆ†å¸ƒè¯¦æƒ…ï¼ˆ5æ˜Ÿåˆ°1æ˜Ÿçš„è¿›åº¦æ¡ï¼‰
- **è®¡ç®—é€»è¾‘**: å†…è”è®¡ç®—ï¼ˆ`ratingStats`ï¼‰
- **è¿”å›å­—æ®µ**:
  ```typescript
  {
    distribution: Record<number, number>,  // { 5: count, 4: count, ... }
    avgRating: string,                      // "4.5"
    recommendationRate: string,             // "85.0" (%)
    totalReviews: number
  }
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯„ä¼°å“ç‰Œå£ç¢‘å’ŒNPSï¼ˆå‡€æ¨èå€¼ï¼‰
- **AIè§£è¯»ç±»å‹**: `recommendation_willingness`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'recommendation_willingness')?.interpretation`
- **ç¤ºä¾‹**: é«˜è¯„åˆ† + é«˜ç‚¹èµ = å¼ºæ¨èæ„æ„¿

#### 5.3 å“ç‰Œæ ¸å¿ƒå¿ƒæ™º âœ…
- **åŸç»„åˆ**: äº§å“ä¼˜åŠ¿åˆ†æï¼ˆæ–°å¢ï¼‰
- **å‰ç«¯æ ‡é¢˜**: `5.3 å“ç‰Œæ ¸å¿ƒå¿ƒæ™º`
- **æ¶‰åŠçš„è¡¨**:
  - **ä¼˜åŠ¿(strength)**: `aggregated_insights.strengths[]` (æŒ‰dimensionèšåˆç»Ÿè®¡)
- **æ•°æ®æ¥æº**: 
  - `data.aggregated_insights.strengths` â†’ `{ dimension?: string }[]`
- **å¯è§†åŒ–**: ä¼˜åŠ¿ç»´åº¦æ’è¡Œæ¦œï¼ˆå¸¦æ’åå’Œè¿›åº¦æ¡ï¼‰
- **è®¡ç®—é€»è¾‘**: å†…è”è®¡ç®—ï¼ˆ`brandMind`ï¼‰
- **è¿”å›å­—æ®µ**:
  ```typescript
  Array<{
    dimension: string,
    count: number
  }>  // æŒ‰counté™åºï¼Œæœ€å¤š5ä¸ª
  ```
- **ä¸šåŠ¡ä»·å€¼**: è¯†åˆ«ç”¨æˆ·å¿ƒæ™ºä¸­çš„æ ¸å¿ƒä¼˜åŠ¿ç»´åº¦
- **AIè§£è¯»ç±»å‹**: `brand_mind`
- **AIè§£è¯»å­—æ®µ**: `aiInsights.find(i => i.insight_type === 'brand_mind')?.interpretation`
- **ç¤ºä¾‹**: "è®¾è®¡"ç»´åº¦æåŠç‡æœ€é«˜ â†’ å“ç‰Œæ ¸å¿ƒç«äº‰åŠ›

---

## å››ã€è¦†ç›–åº¦ç»Ÿè®¡

| æ´å¯Ÿæ¨¡å— | æ¦‚è§ˆæ¨¡å— | 2Dç»„åˆ | 3Dç»„åˆ | å­æ¨¡å—æ€»æ•° | å®Œæˆåº¦ |
|---------|---------|--------|--------|----------|--------|
| 1ï¸âƒ£ äººç¾¤æ´å¯Ÿ | 1ä¸ª âœ… | 2ä¸ª âœ… | 1ä¸ª âœ… | 4ä¸ª | 100% |
| 2ï¸âƒ£ éœ€æ±‚æ´å¯Ÿ | 1ä¸ª âœ… | 3ä¸ª âœ… | 1ä¸ª âœ… | 5ä¸ª | 100% |
| 3ï¸âƒ£ äº§å“æ´å¯Ÿ | 1ä¸ª âœ… | 6ä¸ª âœ… | 0ä¸ª - | 7ä¸ª | 100% |
| 4ï¸âƒ£ åœºæ™¯æ´å¯Ÿ | 1ä¸ª âœ… | 2ä¸ª âœ… | 2ä¸ª âœ… | 5ä¸ª | 100% |
| 5ï¸âƒ£ å“ç‰Œæ´å¯Ÿ | 1ä¸ª âœ… | 2ä¸ª âœ… | 1ä¸ª âœ… | 4ä¸ª | 100% |
| **æ€»è®¡** | **5ä¸ª** | **15ä¸ª** | **5ä¸ª** | **25ä¸ª** | **100%** |

### å®Œæˆæƒ…å†µè¯¦ç»†è¯´æ˜

#### âœ… 2Dç»„åˆï¼ˆ15ä¸ªï¼‰ - 100%å®Œæˆ
æ‰€æœ‰15ä¸ª2Dç»„åˆå·²å…¨éƒ¨å®ç°ï¼ŒåŒ…æ‹¬ï¼š

**åŸºç¡€æ´å¯Ÿç»„åˆï¼ˆ6ä¸ªï¼‰**:
1. **å†³ç­–é”™ä½**ï¼ˆ1.1ï¼‰ï¼šè´­ä¹°è€…(buyer) Ã— ä½¿ç”¨è€…(user)
   - è´­ä¹°è€…: `review_theme_highlights` (`theme_type='buyer'`) + `aggregated_themes.buyer[]`
   - ä½¿ç”¨è€…: `review_theme_highlights` (`theme_type='user'`) + `aggregated_themes.user[]`

2. **åˆšéœ€åœºæ™¯**ï¼ˆ2.1ï¼‰ï¼šåŠ¨æœº(why) Ã— åœ°ç‚¹(where)
   - åŠ¨æœº: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]` + `pivot_matrices.motivation_location` (2D)
   - åœ°ç‚¹: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.motivation_location` (2D)

3. **æµé‡å¯†ç **ï¼ˆ4.1ï¼‰ï¼šåœ°ç‚¹(where) Ã— æ—¶æœº(when)
   - åœ°ç‚¹: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]`
   - æ—¶æœº: `review_theme_highlights` (`theme_type='when'`) + `aggregated_themes.when[]`

4. **ä¼˜å…ˆçº§è¯†åˆ«**ï¼ˆ3.1ï¼‰ï¼šåŠ£åŠ¿(weakness) Ã— æƒ…æ„Ÿå€¾å‘(sentiment)
   - åŠ£åŠ¿: `review_insights` (`type='weakness'`) + `aggregated_insights.weaknesses[]`
   - æƒ…æ„Ÿå€¾å‘: `reviews.sentiment`

5. **å“ç‰Œæº¢ä»·**ï¼ˆ3.3ï¼‰ï¼šä¼˜åŠ¿(strength) Ã— æƒ…æ„Ÿ(emotion)
   - ä¼˜åŠ¿: `review_insights` (`type='strength'`) + `aggregated_insights.strengths[]`
   - æƒ…æ„Ÿ: `review_insights` (`type='emotion'`) + `aggregated_insights.emotions[]`

6. **ç”¨æˆ·åˆ†å±‚**ï¼ˆ3.5ï¼‰ï¼šåŠ¨æœº(why) Ã— å»ºè®®(suggestion)
   - åŠ¨æœº: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
   - å»ºè®®: `review_insights` (`type='suggestion'`) + `aggregated_insights.suggestions[]`

**è¿›é˜¶ç­–ç•¥ç»„åˆï¼ˆ7ä¸ªï¼‰**:
7. **è½¬åŒ–é’©å­**ï¼ˆ1.2ï¼‰ï¼šè´­ä¹°è€…(buyer) Ã— ä¼˜åŠ¿(strength)
   - è´­ä¹°è€…: `review_theme_highlights` (`theme_type='buyer'`) + `aggregated_themes.buyer[]`
   - ä¼˜åŠ¿: `review_insights` (`type='strength'`) + `aggregated_insights.strengths[]`

8. **æœŸæœ›è½å·®**ï¼ˆ2.2ï¼‰ï¼šåŠ¨æœº(why) Ã— æƒ…æ„Ÿå€¾å‘(sentiment)
   - åŠ¨æœº: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
   - æƒ…æ„Ÿå€¾å‘: `reviews.sentiment`

9. **ç¡¬ä»¶å‡çº§**ï¼ˆ3.4ï¼‰ï¼šåœ°ç‚¹(where) Ã— å»ºè®®(suggestion)
   - åœ°ç‚¹: `review_theme_highlights` (`theme_type='where'`) + `aggregated_themes.where[]` + `pivot_matrices.location_suggestion` (2D)
   - å»ºè®®: `review_insights` (`type='suggestion'`) + `aggregated_insights.suggestions[]` + `pivot_matrices.location_suggestion` (2D)

10. **å“ç‰Œå®šè°ƒ**ï¼ˆ4.2ï¼‰ï¼šåœºæ™¯(scenario) Ã— æƒ…æ„Ÿ(emotion)
    - åœºæ™¯: `review_insights` (`type='scenario'`) + `aggregated_insights.scenarios[]`
    - æƒ…æ„Ÿ: `review_insights` (`type='emotion'`) + `aggregated_insights.emotions[]`

11. **å¿ƒæ™ºåŒ¹é…**ï¼ˆ2.3ï¼‰ï¼šåŠ¨æœº(why) Ã— æƒ…æ„Ÿ(emotion)
    - åŠ¨æœº: `review_theme_highlights` (`theme_type='why'`) + `aggregated_themes.why[]`
    - æƒ…æ„Ÿ: `review_insights` (`type='emotion'`) + `aggregated_insights.emotions[]`

12. **è´Ÿå‘ä¼˜åŒ–**ï¼ˆ3.6ï¼‰ï¼šå»ºè®®(suggestion) Ã— ä¼˜åŠ¿(strength)
    - å»ºè®®: `review_insights` (`type='suggestion'`) + `aggregated_insights.suggestions[]`
    - ä¼˜åŠ¿: `review_insights` (`type='strength'`) + `aggregated_insights.strengths[]`

13. **å·®å¼‚åŒ–ç©ºæ¡£**ï¼ˆ3.2ï¼‰ï¼šä¼˜åŠ¿(strength) Ã— åŠ£åŠ¿(weakness)
    - ä¼˜åŠ¿: `review_insights` (`type='strength'`) + `aggregated_insights.strengths[]`
    - åŠ£åŠ¿: `review_insights` (`type='weakness'`) + `aggregated_insights.weaknesses[]`

**å“ç‰Œç‰¹æœ‰ç»„åˆï¼ˆ2ä¸ªï¼‰**:
14. **æ¨èæ„æ„¿**ï¼ˆ5.2ï¼‰ï¼šè¯„åˆ†(rating) + æƒ…æ„Ÿå€¾å‘(sentiment)
    - è¯„åˆ†: `reviews.rating`
    - æƒ…æ„Ÿå€¾å‘: `reviews.sentiment`

15. **å“ç‰Œå¿ƒæ™º**ï¼ˆ5.3ï¼‰ï¼šä¼˜åŠ¿(strength) ç»Ÿè®¡
    - ä¼˜åŠ¿: `aggregated_insights.strengths[]` (æŒ‰dimensionèšåˆç»Ÿè®¡)

#### âœ… 3Dç»„åˆï¼ˆ5ä¸ªï¼‰ - 100%å®Œæˆ
æ‰€æœ‰5ä¸ª3Dç»„åˆå·²å…¨éƒ¨å®ç°ï¼Œä½¿ç”¨`SlicedHeatmapChart`ç»Ÿä¸€å¯è§†åŒ–ï¼š

1. **å†³ç­–é€»è¾‘é“¾**ï¼ˆäººç¾¤æ´å¯Ÿ 1.3ï¼‰ï¼šè´­ä¹°è€…(buyer) Ã— ä½¿ç”¨è€…(user) Ã— åŠ¨æœº(why)
   - **è´­ä¹°è€…(buyer)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='buyer'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.buyer[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.buyer_user_motivation` (3DçŸ©é˜µçš„ç¬¬ä¸€å±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='buyer'`, æ ‡ç­¾åº“)
   - **ä½¿ç”¨è€…(user)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='user'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.user[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.buyer_user_motivation` (3DçŸ©é˜µçš„ç¬¬äºŒå±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='user'`, æ ‡ç­¾åº“)
   - **åŠ¨æœº(why)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='why'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.why[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.buyer_user_motivation` (3DçŸ©é˜µçš„ç¬¬ä¸‰å±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='why'`, æ ‡ç­¾åº“)

2. **ç ”å‘ä¼˜å…ˆçº§**ï¼ˆéœ€æ±‚æ´å¯Ÿ 2.4ï¼‰ï¼šåŠ¨æœº(why) Ã— åŠ£åŠ¿(weakness) Ã— å»ºè®®(suggestion)
   - **åŠ¨æœº(why)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='why'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.why[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.motivation_weakness_suggestion` (3DçŸ©é˜µçš„ç¬¬ä¸€å±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='why'`, æ ‡ç­¾åº“)
   - **åŠ£åŠ¿(weakness)**:
     - ä¸»è¡¨: `review_insights` (`type='weakness'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.weaknesses[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.motivation_weakness_suggestion` (3DçŸ©é˜µçš„ç¬¬äºŒå±‚key)
   - **å»ºè®®(suggestion)**:
     - ä¸»è¡¨: `review_insights` (`type='suggestion'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.suggestions[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.motivation_weakness_suggestion` (3DçŸ©é˜µçš„ç¬¬ä¸‰å±‚key)

3. **çœŸå®ç”Ÿæ´»ç¬é—´**ï¼ˆåœºæ™¯æ´å¯Ÿ 4.3ï¼‰ï¼šåœ°ç‚¹(where) Ã— æ—¶æœº(when) Ã— åœºæ™¯(scenario)
   - **åœ°ç‚¹(where)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='where'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.where[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.location_time_scenario` (3DçŸ©é˜µçš„ç¬¬ä¸€å±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='where'`, æ ‡ç­¾åº“)
   - **æ—¶æœº(when)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='when'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.when[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.location_time_scenario` (3DçŸ©é˜µçš„ç¬¬äºŒå±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='when'`, æ ‡ç­¾åº“)
   - **åœºæ™¯(scenario)**:
     - ä¸»è¡¨: `review_insights` (`type='scenario'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.scenarios[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.location_time_scenario` (3DçŸ©é˜µçš„ç¬¬ä¸‰å±‚key)
     - æ³¨æ„: åœºæ™¯ä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨

4. **ç¯å¢ƒå†²çª**ï¼ˆåœºæ™¯æ´å¯Ÿ 4.4ï¼‰ï¼šæƒ…æ„Ÿ(emotion) Ã— ç»´åº¦(dimension) Ã— åœ°ç‚¹(where)
   - **æƒ…æ„Ÿ(emotion)**:
     - ä¸»è¡¨: `review_insights` (`type='emotion'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.emotions[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.emotion_dimension_location` (3DçŸ©é˜µçš„ç¬¬ä¸€å±‚key)
     - æ³¨æ„: æƒ…æ„Ÿä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
   - **ç»´åº¦(dimension)**:
     - ä¸»è¡¨: `review_insights` (`type='strength'|'weakness'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.strengths[]` + `aggregated_insights.weaknesses[]`
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.emotion_dimension_location` (3DçŸ©é˜µçš„ç¬¬äºŒå±‚key)
     - è¯´æ˜: ç»´åº¦æ˜¯äº§å“ç»´åº¦ï¼ˆstrength + weakness åˆå¹¶ï¼‰
   - **åœ°ç‚¹(where)**:
     - ä¸»è¡¨: `review_theme_highlights` (`theme_type='where'`, `label_name`)
     - èšåˆæ•°æ®: `aggregated_themes.where[]` (`{ label, count, review_ids }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.emotion_dimension_location` (3DçŸ©é˜µçš„ç¬¬ä¸‰å±‚key)
     - å…³è”è¡¨: `product_context_labels` (`type='where'`, æ ‡ç­¾åº“)

5. **å“ç‰Œè®°å¿†ç‚¹**ï¼ˆå“ç‰Œæ´å¯Ÿ 5.1ï¼‰ï¼šä¼˜åŠ¿(strength) Ã— åœºæ™¯(scenario) Ã— æƒ…æ„Ÿ(emotion)
   - **ä¼˜åŠ¿(strength)**:
     - ä¸»è¡¨: `review_insights` (`type='strength'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.strengths[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.strength_scenario_emotion` (3DçŸ©é˜µçš„ç¬¬ä¸€å±‚key)
   - **åœºæ™¯(scenario)**:
     - ä¸»è¡¨: `review_insights` (`type='scenario'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.scenarios[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.strength_scenario_emotion` (3DçŸ©é˜µçš„ç¬¬äºŒå±‚key)
     - æ³¨æ„: åœºæ™¯ä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨
   - **æƒ…æ„Ÿ(emotion)**:
     - ä¸»è¡¨: `review_insights` (`type='emotion'`, `dimension`)
     - èšåˆæ•°æ®: `aggregated_insights.emotions[]` (`{ dimension, review_id }[]`)
     - é¢„èšåˆçŸ©é˜µ: `pivot_matrices.strength_scenario_emotion` (3DçŸ©é˜µçš„ç¬¬ä¸‰å±‚key)
     - æ³¨æ„: æƒ…æ„Ÿä» `insights` è¡¨è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights` è¡¨

#### ğŸ¨ å¯è§†åŒ–ç»„ä»¶
- **2Då›¾è¡¨**ï¼šæ¡‘åŸºå›¾ã€çƒ­åŠ›å›¾ã€åŒå‘æŸ±çŠ¶å›¾ã€åˆ†ç»„æŸ±çŠ¶å›¾ã€è¿›åº¦æ¡
- **3Då›¾è¡¨**ï¼šSlicedHeatmapChartï¼ˆTabåˆ†å±‚çƒ­åŠ›å›¾ï¼‰

#### ğŸ“Š æ•°æ®æ¶æ„
- **åç«¯é¢„èšåˆ**ï¼š7ä¸ªäº¤å‰ç»Ÿè®¡çŸ©é˜µï¼ˆ2ä¸ª2D + 5ä¸ª3Dï¼‰
- **å‰ç«¯é™çº§**ï¼šæ”¯æŒæœ¬åœ°è®¡ç®—ï¼ˆå½“åç«¯æ•°æ®ä¸å¯ç”¨æ—¶ï¼‰
- **AIè§£è¯»**ï¼š15+ä¸ªè§£è¯»å‡½æ•°ï¼ˆåç«¯AI + æœ¬åœ°è§„åˆ™ï¼‰

---

## äº”ã€æŠ€æœ¯å®ç°ç»†èŠ‚

### 5.1 å‰ç«¯æ¶æ„
```
PivotInsightReport
â”œâ”€â”€ AudienceInsight (4ä¸ªå­æ¨¡å—: 1.0æ¦‚è§ˆ + 1.1-1.3)
â”œâ”€â”€ DemandInsight (5ä¸ªå­æ¨¡å—: 2.0æ¦‚è§ˆ + 2.1-2.4)
â”œâ”€â”€ ProductInsight (7ä¸ªå­æ¨¡å—: 3.0æ¦‚è§ˆ + 3.1-3.6)
â”œâ”€â”€ ScenarioInsight (5ä¸ªå­æ¨¡å—: 4.0æ¦‚è§ˆ + 4.1-4.4)
â””â”€â”€ BrandInsight (4ä¸ªå­æ¨¡å—: 5.0æ¦‚è§ˆ + 5.1-5.3)
```

### 5.2 å…³é”®æ•°æ®æºåŒºåˆ†

**é‡è¦**: `review_theme_highlights` å’Œ `review_insights` æ˜¯ä¸¤ä¸ªä¸åŒçš„è¡¨ï¼Œæ•°æ®æ¥æºä¸åŒï¼š

| æ•°æ®æ¥æº | è¡¨å | å­—æ®µ | ç”¨é€” |
|---------|------|------|------|
| **5Wä¸»é¢˜æ•°æ®** | `review_theme_highlights` | `theme_type` + `label_name` | buyer, user, where, when, why, what |
| **5ç±»æ´å¯Ÿæ•°æ®** | `review_insights` | `type` + `dimension` | strength, weakness, suggestion, scenario, emotion |

**å­—æ®µæ˜ å°„è§„åˆ™**:
- `theme_highlights`: `theme_type` âˆˆ `['buyer', 'user', 'where', 'when', 'why', 'what']`
- `insights`: `type` âˆˆ `['strength', 'weakness', 'suggestion', 'scenario', 'emotion']`
- **åœºæ™¯ï¼ˆscenarioï¼‰**: ä» `insights` è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights`
- **æƒ…æ„Ÿï¼ˆemotionï¼‰**: ä» `insights` è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights`

### 5.2 ç»Ÿä¸€çš„æ¨¡å—é…ç½®
```tsx
// frontend/src/app/components/share/review-reader/pivot/insights/moduleConfig.ts
const moduleConfig = {
  audience: { 
    icon: Users, 
    bgColor: 'bg-blue-600', 
    textColor: 'text-blue-600',
    title: 'äººç¾¤æ´å¯Ÿ',
    subtitle: 'è°ä¹°ï¼Ÿè°ç”¨ï¼Ÿä¸ºä»€ä¹ˆä¹°ï¼Ÿ'
  },
  demand: { 
    icon: Target, 
    bgColor: 'bg-green-600', 
    textColor: 'text-green-600',
    title: 'éœ€æ±‚æ´å¯Ÿ',
    subtitle: 'ä¸ºä»€ä¹ˆä¹°ï¼Ÿæ»¡è¶³äº†å—ï¼Ÿ'
  },
  product: { 
    icon: Package, 
    bgColor: 'bg-purple-600', 
    textColor: 'text-purple-600',
    title: 'äº§å“æ´å¯Ÿ',
    subtitle: 'äº§å“å“ªé‡Œå¥½ï¼Ÿå“ªé‡Œå·®ï¼Ÿ'
  },
  scenario: { 
    icon: MapPin, 
    bgColor: 'bg-orange-600', 
    textColor: 'text-orange-600',
    title: 'åœºæ™¯æ´å¯Ÿ',
    subtitle: 'åœ¨å“ªç”¨ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ'
  },
  brand: { 
    icon: Heart, 
    bgColor: 'bg-pink-600', 
    textColor: 'text-pink-600',
    title: 'å“ç‰Œæ´å¯Ÿ',
    subtitle: 'ç”¨æˆ·å–œæ¬¢å—ï¼Ÿæ„¿æ„æ¨èå—ï¼Ÿ'
  },
}
```

### 5.3 æ•°æ®æºå­—æ®µæ˜ å°„

#### Reviewå¯¹è±¡å­—æ®µç»“æ„
```typescript
{
  id: string,
  sentiment?: 'positive' | 'neutral' | 'negative',
  rating?: number,
  theme_highlights?: Array<{
    theme_type: 'buyer' | 'user' | 'where' | 'when' | 'why' | 'what',
    label_name: string
  }>,
  insights?: Array<{
    type: 'strength' | 'weakness' | 'suggestion' | 'scenario' | 'emotion',
    dimension?: string
  }>
}
```

#### Aggregated Themeså­—æ®µç»“æ„
```typescript
aggregated_themes: {
  buyer?: Array<{ label: string, count: number, review_ids: string[] }>,
  user?: Array<{ label: string, count: number, review_ids: string[] }>,
  where?: Array<{ label: string, count: number, review_ids: string[] }>,
  when?: Array<{ label: string, count: number, review_ids: string[] }>,
  why?: Array<{ label: string, count: number, review_ids: string[] }>,
  what?: Array<{ label: string, count: number, review_ids: string[] }>,
  scenario?: Array<{ label: string, count: number, review_ids: string[] }>,
  emotion?: Array<{ label: string, count: number, review_ids: string[] }>
}
```

#### Aggregated Insightså­—æ®µç»“æ„
```typescript
aggregated_insights: {
  strengths?: Array<{ dimension?: string, review_id: string }>,
  weaknesses?: Array<{ dimension?: string, review_id: string }>,
  suggestions?: Array<{ dimension?: string, review_id: string }>,
  scenarios?: Array<{ dimension?: string, review_id: string }>,
  emotions?: Array<{ dimension?: string, review_id: string }>
}
```

#### AIè§£è¯»å­—æ®µç»“æ„
```typescript
interface Interpretation {
  keyFindings: string[];                    // å…³é”®å‘ç°ï¼ˆæ•°ç»„ï¼‰
  dataSupport: string | Array<{             // æ•°æ®æ”¯æ’‘ï¼ˆå­—ç¬¦ä¸²æˆ–å¯¹è±¡æ•°ç»„ï¼‰
    metric: string;
    value: string;
  }>;
  recommendations: string[];                 // è¡ŒåŠ¨å»ºè®®ï¼ˆæ•°ç»„ï¼‰
  severity: 'success' | 'warning' | 'error' | 'info' | 'normal' | 'critical';
}
```

#### AIæ´å¯Ÿæ•°æ®ç»“æ„ï¼ˆåç«¯è¿”å›ï¼‰
```typescript
aiInsights: Array<{
  insight_type: string,  // å¦‚: 'decision_flow', 'audience_strength', ...
  interpretation: Interpretation
}>
```

### 5.4 åç«¯é¢„èšåˆçŸ©é˜µ
```python
# backend/app/services/share_service.py
pivot_matrices = {
    "location_suggestion": {},          # 2D: åœ°ç‚¹Ã—å»ºè®® (ç”¨äº3.4)
    "motivation_location": {},          # 2D: åŠ¨æœºÃ—åœ°ç‚¹ (ç”¨äº2.1)
    "location_time_scenario": {},       # 3D: åœ°ç‚¹Ã—æ—¶æœºÃ—åœºæ™¯ (ç”¨äº4.3)
    "buyer_user_motivation": {},        # 3D: è´­ä¹°è€…Ã—ä½¿ç”¨è€…Ã—åŠ¨æœº (ç”¨äº1.3)
    "strength_scenario_emotion": {},    # 3D: ä¼˜åŠ¿Ã—åœºæ™¯Ã—æƒ…æ„Ÿ (ç”¨äº5.1)
    "motivation_weakness_suggestion": {},# 3D: åŠ¨æœºÃ—åŠ£åŠ¿Ã—å»ºè®® (ç”¨äº2.4)
    "emotion_dimension_location": {},   # 3D: æƒ…æ„ŸÃ—ç»´åº¦Ã—åœ°ç‚¹ (ç”¨äº4.4)
}
```

**å­—æ®µæ˜ å°„è¯´æ˜**:
- **2DçŸ©é˜µ**: `Record<string, Record<string, number>>` - ç¬¬ä¸€å±‚keyæ˜¯è¡Œç»´åº¦ï¼Œç¬¬äºŒå±‚keyæ˜¯åˆ—ç»´åº¦
- **3DçŸ©é˜µ**: `Record<string, Record<string, Record<string, number>>>` - ç¬¬ä¸€å±‚keyæ˜¯å±‚ç»´åº¦ï¼Œç¬¬äºŒå±‚keyæ˜¯è¡Œç»´åº¦ï¼Œç¬¬ä¸‰å±‚keyæ˜¯åˆ—ç»´åº¦

### 5.5 3Då¯è§†åŒ–äº¤äº’æ¨¡å¼
- **Tabå¯¼èˆª**: ç¬¬1ç»´åº¦ï¼ˆlayerLabelï¼‰ä½œä¸ºTabé€‰æ‹©å™¨ï¼ˆå¦‚ï¼šè´­ä¹°è€…ã€åŠ¨æœºã€åœ°ç‚¹ã€æƒ…æ„Ÿã€ä¼˜åŠ¿ï¼‰
- **çƒ­åŠ›å›¾**: ç¬¬2ã€3ç»´åº¦ï¼ˆrows Ã— columnsï¼‰ä½œä¸ºçƒ­åŠ›å›¾çš„è¡Œåˆ—
- **Tooltip**: æ‚¬æµ®æ˜¾ç¤ºå…·ä½“æ•°å€¼å’Œå æ¯”
- **é…è‰²æ–¹æ¡ˆ**: 
  - `frequency`: åŸºäºé¢‘æ¬¡çš„é¢œè‰²å¼ºåº¦ï¼ˆæ©™è‰²ç³»ï¼‰
  - `sentiment`: åŸºäºæƒ…æ„Ÿå€¾å‘çš„é¢œè‰²ï¼ˆç»¿è‰²=æ­£é¢ï¼Œçº¢è‰²=è´Ÿé¢ï¼Œè“è‰²=ä¸­æ€§ï¼‰

### 5.6 æ•°æ®è®¡ç®—å‡½æ•°æ˜ å°„ï¼ˆå­—æ®µçº§åˆ«ï¼‰

| å­æ¨¡å— | è®¡ç®—å‡½æ•° | è¾“å…¥å­—æ®µï¼ˆç²¾ç¡®è·¯å¾„ï¼‰ | è¾“å‡ºå­—æ®µç»“æ„ |
|--------|---------|-------------------|------------|
| **1.0** | å†…è”è®¡ç®— | `aggregated_themes.buyer[]` + `aggregated_themes.user[]` | `{ label, count }[]` |
| **1.1** | `calculateBuyerUserRelation` | `review.theme_highlights[].theme_type === 'buyer'`<br>`review.theme_highlights[].theme_type === 'user'`<br>`review.theme_highlights[].label_name` | `{ buyers: string[], users: string[], pairs: Array<{buyer, user, count, percent, reviewIds}>, totalReviews: number }` |
| **1.2** | `calculateBuyerStrengthRelation` | `review.theme_highlights[].theme_type === 'buyer'`<br>`review.insights[].type === 'strength'`<br>`review.insights[].dimension` | `{ buyers: string[], strengths: string[], buyerStrengthMap: Record<string, Record<string, number>> }` |
| **1.3** | `calculateBuyerUserMotivationRelation` | `review.theme_highlights[].theme_type === 'buyer'|'user'|'why'`<br>`review.theme_highlights[].label_name` | `{ buyers: string[], users: string[], motivations: string[], slices: Array<{layerLabel, rows, columns, data, reviewIds}> }` |
| **2.0** | å†…è”è®¡ç®— | `aggregated_themes.why[]` | `{ label, count }[]` |
| **2.1** | `calculateMotivationLocationRelation` | `review.theme_highlights[].theme_type === 'why'|'where'`<br>`review.theme_highlights[].label_name` | `{ motivations: string[], locations: string[], motivationLocationMap: Record<string, Record<string, number>>, motivationLocationData: Array<{motivation, location, count}> }` |
| **2.2** | `calculateMotivationSentimentRelation` | `review.theme_highlights[].theme_type === 'why'`<br>`review.sentiment` | `{ motivations: string[], motivationSentiment: Array<{motivation, positive, neutral, negative, total}> }` |
| **2.3** | `calculateMotivationEmotionRelation` | `review.theme_highlights[].theme_type === 'why'`<br>`review.insights[].type === 'emotion'`<br>`review.insights[].dimension` | `{ motivations: string[], emotions: string[], motivationEmotionMap: Record<string, Record<string, number>> }` |
| **2.4** | `calculateMotivationWeaknessSuggestionRelation` | `review.theme_highlights[].theme_type === 'why'`<br>`review.insights[].type === 'weakness'|'suggestion'`<br>`review.insights[].dimension` | `{ motivations: string[], weaknesses: string[], suggestions: string[], slices: Array<{layerLabel, rows, columns, data, reviewIds}> }` |
| **3.0** | å†…è”è®¡ç®— | `aggregated_insights.strengths[]` + `aggregated_insights.weaknesses[]` + `aggregated_insights.suggestions[]` | `{ strengths: number, weaknesses: number, suggestions: number, strengthDetails: Record<string, number>, weaknessDetails: Record<string, number> }` |
| **3.1** | `calculateWeaknessSentimentRelation` | `review.insights[].type === 'weakness'`<br>`review.insights[].dimension`<br>`review.sentiment` | `{ weaknesses: string[], weaknessSentiment: Array<{weakness, positive, neutral, negative, total}> }` |
| **3.2** | `calculateStrengthWeaknessComparison` | `review.insights[].type === 'strength'|'weakness'`<br>`review.insights[].dimension` | `{ dimensions: string[], strengthCounts: number[], weaknessCounts: number[] }` |
| **3.3** | `calculateStrengthEmotionRelation` | `review.insights[].type === 'strength'|'emotion'`<br>`review.insights[].dimension` | `{ strengths: string[], emotions: string[], strengthEmotionMap: Record<string, Record<string, number>>, strengthEmotion: Array<{strength, emotion, count}> }` |
| **3.4** | `calculateLocationSuggestionRelation` | `review.theme_highlights[].theme_type === 'where'`<br>`review.insights[].type === 'suggestion'`<br>`review.insights[].dimension` | `{ locations: string[], suggestions: string[], whereSuggestion: Array<{location, suggestions: Record<string, number>}> }` |
| **3.5** | `calculateMotivationSuggestionRelation` | `review.theme_highlights[].theme_type === 'why'`<br>`review.insights[].type === 'suggestion'`<br>`review.insights[].dimension` | `{ motivations: string[], suggestions: string[], motivationSuggestionMap: Record<string, Record<string, number>>, motivationSuggestion: Array<{motivation, suggestion, count}> }` |
| **3.6** | `calculateSuggestionStrengthRelation` | `review.insights[].type === 'strength'|'suggestion'`<br>`review.insights[].dimension` | `{ dimensions: string[], dimensionAnalysis: Array<{dimension, strengthCount, suggestionCount, conflictRate}> }` |
| **4.0** | å†…è”è®¡ç®— | `aggregated_themes.where[]` + `aggregated_themes.when[]` + `aggregated_themes.scenario[]` | `{ where: Array<{label, count}>, when: Array<{label, count}>, scenario: Array<{label, count}> }` |
| **4.1** | å†…è”è®¡ç®— | `review.theme_highlights[].theme_type === 'where'|'when'`<br>`review.theme_highlights[].label_name` | `{ matrix: Record<string, Record<string, number>>, locations: string[], times: string[] }` |
| **4.2** | å†…è”è®¡ç®— | `review.insights[].type === 'scenario'|'emotion'`<br>`review.insights[].dimension` | `{ matrix: Record<string, Record<string, number>>, scenarios: string[], emotions: string[] }` |
| **4.3** | `calculateLocationTimeScenarioRelation` | `review.theme_highlights[].theme_type === 'where'|'when'`<br>`review.insights[].type === 'scenario'`<br>`review.insights[].dimension` | `{ locations: string[], times: string[], scenarios: string[], slices: Array<{layerLabel, rows, columns, data, reviewIds}> }` |
| **4.4** | `calculateEmotionDimensionLocationRelation` | `review.insights[].type === 'emotion'|'strength'|'weakness'`<br>`review.insights[].dimension`<br>`review.theme_highlights[].theme_type === 'where'`<br>`review.theme_highlights[].label_name` | `{ emotions: string[], dimensions: string[], locations: string[], slices: Array<{layerLabel, rows, columns, data, reviewIds}> }` |
| **5.0** | å†…è”è®¡ç®— | `aggregated_themes.emotion[]` | `{ label, count }[]` |
| **5.1** | `calculateStrengthScenarioEmotionRelation` | `review.insights[].type === 'strength'|'scenario'|'emotion'`<br>`review.insights[].dimension` | `{ strengths: string[], scenarios: string[], emotions: string[], slices: Array<{layerLabel, rows, columns, data, reviewIds}> }` |
| **5.2** | å†…è”è®¡ç®— | `review.rating` | `{ distribution: Record<number, number>, avgRating: string, recommendationRate: string, totalReviews: number }` |
| **5.3** | å†…è”è®¡ç®— | `aggregated_insights.strengths[].dimension` | `Array<{ dimension: string, count: number }>` |

### 5.7 å…³é”®æ•°æ®æºåŒºåˆ†è¡¨ï¼ˆå®Œæ•´è¡¨æ˜ å°„ï¼‰

| æ•°æ®ç»´åº¦ | ä¸»è¡¨ | å­—æ®µè·¯å¾„ | å­—æ®µå | èšåˆæ•°æ®è¡¨ | é¢„èšåˆçŸ©é˜µ | å…³è”è¡¨ | ç¤ºä¾‹å€¼ |
|---------|------|---------|--------|-----------|-----------|--------|--------|
| **è´­ä¹°è€…(buyer)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'buyer'` | `label_name` | `aggregated_themes.buyer[]` | `pivot_matrices.buyer_user_motivation` (3D) | `product_context_labels` (`type='buyer'`) | "å®¶é•¿", "è€äºº" |
| **ä½¿ç”¨è€…(user)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'user'` | `label_name` | `aggregated_themes.user[]` | `pivot_matrices.buyer_user_motivation` (3D) | `product_context_labels` (`type='user'`) | "å­©å­", "å©´å„¿" |
| **åœ°ç‚¹(where)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'where'` | `label_name` | `aggregated_themes.where[]` | `pivot_matrices.location_time_scenario` (3D)<br>`pivot_matrices.emotion_dimension_location` (3D)<br>`pivot_matrices.location_suggestion` (2D)<br>`pivot_matrices.motivation_location` (2D) | `product_context_labels` (`type='where'`) | "å§å®¤", "åŠå…¬å®¤" |
| **æ—¶æœº(when)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'when'` | `label_name` | `aggregated_themes.when[]` | `pivot_matrices.location_time_scenario` (3D) | `product_context_labels` (`type='when'`) | "ç¡å‰", "æ—©æ™¨" |
| **åŠ¨æœº(why)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'why'` | `label_name` | `aggregated_themes.why[]` | `pivot_matrices.buyer_user_motivation` (3D)<br>`pivot_matrices.motivation_weakness_suggestion` (3D)<br>`pivot_matrices.motivation_location` (2D) | `product_context_labels` (`type='why'`) | "å¥åº·éœ€æ±‚", "é€ç¤¼" |
| **ç”¨é€”(what)** | `review_theme_highlights` | `review.theme_highlights[].theme_type === 'what'` | `label_name` | `aggregated_themes.what[]` | - | `product_context_labels` (`type='what'`) | "åŠ©çœ ", "æ”¾æ¾" |
| **äº§å“ä¼˜åŠ¿(strength)** | `review_insights` | `review.insights[].type === 'strength'` | `dimension` | `aggregated_insights.strengths[]` | `pivot_matrices.strength_scenario_emotion` (3D)<br>`pivot_matrices.emotion_dimension_location` (3D) | - | "åŠŸèƒ½è¡¨ç°", "è®¾è®¡å¤–è§‚" |
| **äº§å“åŠ£åŠ¿(weakness)** | `review_insights` | `review.insights[].type === 'weakness'` | `dimension` | `aggregated_insights.weaknesses[]` | `pivot_matrices.motivation_weakness_suggestion` (3D)<br>`pivot_matrices.emotion_dimension_location` (3D) | - | "ç»“æ„åšå·¥", "ç»­èˆªèƒ½åŠ›" |
| **æ”¹è¿›å»ºè®®(suggestion)** | `review_insights` | `review.insights[].type === 'suggestion'` | `dimension` | `aggregated_insights.suggestions[]` | `pivot_matrices.motivation_weakness_suggestion` (3D)<br>`pivot_matrices.location_suggestion` (2D) | - | "å¢åŠ ç”µæ± å®¹é‡", "æ”¹è¿›æè´¨" |
| **ä½¿ç”¨åœºæ™¯(scenario)** | `review_insights` | `review.insights[].type === 'scenario'` | `dimension` | `aggregated_insights.scenarios[]`<br>`aggregated_themes.scenario[]` | `pivot_matrices.location_time_scenario` (3D)<br>`pivot_matrices.strength_scenario_emotion` (3D) | - | "å®¶å±…æ—¥å¸¸", "åŠå…¬åœºæ™¯" |
| **ç”¨æˆ·æƒ…æ„Ÿ(emotion)** | `review_insights` | `review.insights[].type === 'emotion'` | `dimension` | `aggregated_insights.emotions[]`<br>`aggregated_themes.emotion[]` | `pivot_matrices.strength_scenario_emotion` (3D)<br>`pivot_matrices.emotion_dimension_location` (3D) | - | "æƒŠå–œå¥½è¯„", "å¤±æœ›ä¸æ»¡" |
| **æƒ…æ„Ÿå€¾å‘(sentiment)** | `reviews` | `review.sentiment` | `sentiment` | - | - | - | `'positive'`, `'neutral'`, `'negative'` |
| **è¯„åˆ†(rating)** | `reviews` | `review.rating` | `rating` | - | - | - | `1-5` |

### 5.8 å®Œæ•´ç»´åº¦-è¡¨æ˜ å°„å…³ç³»

#### æ‰€æœ‰æ¶‰åŠçš„è¡¨åŠå…¶ç”¨é€”

| è¡¨å | ä¸»è¦ç”¨é€” | å…³é”®å­—æ®µ | æ¶‰åŠç»´åº¦ | ä½¿ç”¨åœºæ™¯ |
|------|---------|---------|---------|---------|
| **`review_theme_highlights`** | å­˜å‚¨5Wä¸»é¢˜æ•°æ® | `theme_type` + `label_name` | buyer, user, where, when, why, what | ç”¨æˆ·ç”»åƒã€ä½¿ç”¨åœºæ™¯è¦ç´  |
| **`review_insights`** | å­˜å‚¨5ç±»æ´å¯Ÿæ•°æ® | `type` + `dimension` | strength, weakness, suggestion, scenario, emotion | äº§å“è¯„ä»·ã€æƒ…æ„Ÿåé¦ˆã€ä½¿ç”¨åœºæ™¯ |
| **`reviews`** | è¯„è®ºåŸºç¡€æ•°æ® | `sentiment`, `rating` | sentiment, rating | æƒ…æ„Ÿå€¾å‘åˆ†æã€æ¨èæ„æ„¿è®¡ç®— |
| **`aggregated_themes`** | 5Wä¸»é¢˜èšåˆæ•°æ® | `{ label, count, review_ids }[]` | buyer, user, where, when, why, what, scenario, emotion | æ¦‚è§ˆæ¨¡å—ã€å¿«é€Ÿç»Ÿè®¡ |
| **`aggregated_insights`** | 5ç±»æ´å¯Ÿèšåˆæ•°æ® | `{ dimension, review_id }[]` | strength, weakness, suggestion, scenario, emotion | æ¦‚è§ˆæ¨¡å—ã€å¿«é€Ÿç»Ÿè®¡ |
| **`pivot_matrices`** | é¢„èšåˆäº¤å‰çŸ©é˜µ | `Record<string, Record<string, number>>` (2D)<br>`Record<string, Record<string, Record<string, number>>>` (3D) | æ‰€æœ‰ç»´åº¦ç»„åˆ | åç«¯é¢„èšåˆï¼Œæå‡æ€§èƒ½ |
| **`product_context_labels`** | 5Wæ ‡ç­¾åº“ | `type` + `name` | buyer, user, where, when, why, what | æ ‡ç­¾æ ‡å‡†åŒ–ã€å…³è”æŸ¥è¯¢ |

#### ç»´åº¦æ¶‰åŠçš„æ‰€æœ‰è¡¨ï¼ˆå®Œæ•´åˆ—è¡¨ï¼‰

| ç»´åº¦ | ä¸»è¡¨ | èšåˆæ•°æ® | é¢„èšåˆçŸ©é˜µï¼ˆ2Dï¼‰ | é¢„èšåˆçŸ©é˜µï¼ˆ3Dï¼‰ | å…³è”è¡¨ |
|------|------|---------|----------------|----------------|--------|
| **buyer** (è´­ä¹°è€…) | `review_theme_highlights` (`theme_type='buyer'`) | `aggregated_themes.buyer[]` | - | `buyer_user_motivation` (ç¬¬1å±‚) | `product_context_labels` (`type='buyer'`) |
| **user** (ä½¿ç”¨è€…) | `review_theme_highlights` (`theme_type='user'`) | `aggregated_themes.user[]` | - | `buyer_user_motivation` (ç¬¬2å±‚) | `product_context_labels` (`type='user'`) |
| **where** (åœ°ç‚¹) | `review_theme_highlights` (`theme_type='where'`) | `aggregated_themes.where[]` | `motivation_location`<br>`location_suggestion` | `location_time_scenario` (ç¬¬1å±‚)<br>`emotion_dimension_location` (ç¬¬3å±‚) | `product_context_labels` (`type='where'`) |
| **when** (æ—¶æœº) | `review_theme_highlights` (`theme_type='when'`) | `aggregated_themes.when[]` | - | `location_time_scenario` (ç¬¬2å±‚) | `product_context_labels` (`type='when'`) |
| **why** (åŠ¨æœº) | `review_theme_highlights` (`theme_type='why'`) | `aggregated_themes.why[]` | `motivation_location` | `buyer_user_motivation` (ç¬¬3å±‚)<br>`motivation_weakness_suggestion` (ç¬¬1å±‚) | `product_context_labels` (`type='why'`) |
| **what** (ç”¨é€”) | `review_theme_highlights` (`theme_type='what'`) | `aggregated_themes.what[]` | - | - | `product_context_labels` (`type='what'`) |
| **strength** (ä¼˜åŠ¿) | `review_insights` (`type='strength'`) | `aggregated_insights.strengths[]` | - | `strength_scenario_emotion` (ç¬¬1å±‚)<br>`emotion_dimension_location` (ç¬¬2å±‚) | - |
| **weakness** (åŠ£åŠ¿) | `review_insights` (`type='weakness'`) | `aggregated_insights.weaknesses[]` | - | `motivation_weakness_suggestion` (ç¬¬2å±‚)<br>`emotion_dimension_location` (ç¬¬2å±‚) | - |
| **suggestion** (å»ºè®®) | `review_insights` (`type='suggestion'`) | `aggregated_insights.suggestions[]` | `location_suggestion` | `motivation_weakness_suggestion` (ç¬¬3å±‚) | - |
| **scenario** (åœºæ™¯) | `review_insights` (`type='scenario'`) | `aggregated_insights.scenarios[]`<br>`aggregated_themes.scenario[]` | - | `location_time_scenario` (ç¬¬3å±‚)<br>`strength_scenario_emotion` (ç¬¬2å±‚) | - |
| **emotion** (æƒ…æ„Ÿ) | `review_insights` (`type='emotion'`) | `aggregated_insights.emotions[]`<br>`aggregated_themes.emotion[]` | - | `strength_scenario_emotion` (ç¬¬3å±‚)<br>`emotion_dimension_location` (ç¬¬1å±‚) | - |
| **sentiment** (æƒ…æ„Ÿå€¾å‘) | `reviews` (`sentiment`) | - | - | - | - |
| **rating** (è¯„åˆ†) | `reviews` (`rating`) | - | - | - | - |

#### ğŸ“Š é¢„èšåˆçŸ©é˜µè¯¦ç»†è¯´æ˜

**2DçŸ©é˜µï¼ˆ2ä¸ªï¼‰**:
- `motivation_location`: `Record<why, Record<where, number>>` - ç”¨äº2.1åˆšéœ€åœºæ™¯åˆ†æ
- `location_suggestion`: `Record<where, Record<suggestion, number>>` - ç”¨äº3.4åœºæ™¯åŒ–æ”¹è¿›å»ºè®®

**3DçŸ©é˜µï¼ˆ5ä¸ªï¼‰**:
- `buyer_user_motivation`: `Record<buyer, Record<user, Record<why, number>>>` - ç”¨äº1.3å†³ç­–é€»è¾‘é“¾
- `motivation_weakness_suggestion`: `Record<why, Record<weakness, Record<suggestion, number>>>` - ç”¨äº2.4ç ”å‘ä¼˜å…ˆçº§
- `location_time_scenario`: `Record<where, Record<when, Record<scenario, number>>>` - ç”¨äº4.3çœŸå®ç”Ÿæ´»ç¬é—´
- `emotion_dimension_location`: `Record<emotion, Record<dimension, Record<where, number>>>` - ç”¨äº4.4ç¯å¢ƒå†²çª
- `strength_scenario_emotion`: `Record<strength, Record<scenario, Record<emotion, number>>>` - ç”¨äº5.1å“ç‰Œè®°å¿†ç‚¹

### 5.9 æ•°æ®è·å–æ³¨æ„äº‹é¡¹

#### âš ï¸ é‡è¦ï¼šä¸¤ä¸ªè¡¨çš„åŒºåˆ«

1. **`review_theme_highlights` è¡¨**:
   - å­˜å‚¨5Wä¸»é¢˜æ•°æ®ï¼ˆbuyer, user, where, when, why, whatï¼‰
   - å­—æ®µï¼š`theme_type` + `label_name`
   - ç”¨é€”ï¼šç”¨æˆ·ç”»åƒã€ä½¿ç”¨åœºæ™¯è¦ç´ 
   - å…³è”ï¼š`product_context_labels` (æ ‡ç­¾åº“)

2. **`review_insights` è¡¨**:
   - å­˜å‚¨5ç±»æ´å¯Ÿæ•°æ®ï¼ˆstrength, weakness, suggestion, scenario, emotionï¼‰
   - å­—æ®µï¼š`type` + `dimension`
   - ç”¨é€”ï¼šäº§å“è¯„ä»·ã€æƒ…æ„Ÿåé¦ˆã€ä½¿ç”¨åœºæ™¯
   - æ³¨æ„ï¼š`scenario` å’Œ `emotion` ä» `insights` è·å–ï¼Œ**ä¸æ˜¯**ä» `theme_highlights`

#### ğŸ”§ å¸¸è§é”™è¯¯

- âŒ **é”™è¯¯**: ä» `theme_highlights` è·å– `scenario` æˆ– `emotion`
- âœ… **æ­£ç¡®**: `scenario` å’Œ `emotion` å¿…é¡»ä» `insights` è·å–

- âŒ **é”™è¯¯**: ä» `insights` è·å– `where` æˆ– `when`
- âœ… **æ­£ç¡®**: `where` å’Œ `when` å¿…é¡»ä» `theme_highlights` è·å–

#### ğŸ“Š æ•°æ®è·å–æ¨¡å¼

```typescript
// âœ… æ­£ç¡®ï¼š5Wä¸»é¢˜æ•°æ®ï¼ˆä» theme_highlightsï¼‰
const locations = review.theme_highlights
  .filter(th => th.theme_type === 'where' && th.label_name)
  .map(th => th.label_name);

// âœ… æ­£ç¡®ï¼šåœºæ™¯å’Œæƒ…æ„Ÿæ•°æ®ï¼ˆä» insightsï¼‰
const scenarios = review.insights
  .filter(i => i.type === 'scenario' && i.dimension)
  .map(i => i.dimension);
const emotions = review.insights
  .filter(i => i.type === 'emotion' && i.dimension)
  .map(i => i.dimension);
```

---

## å…­ã€æœªæ¥æ‰©å±•æ–¹å‘

### 6.1 è‡ªå®šä¹‰é€è§† ğŸŸ¢
- **ç›®æ ‡**: å…è®¸ç”¨æˆ·è‡ªç”±ç»„åˆä»»æ„3ä¸ªç»´åº¦
- **äº¤äº’**: æ‹–æ‹½å¼é…ç½®ç•Œé¢
- **è¾“å‡º**: åŠ¨æ€ç”Ÿæˆå›¾è¡¨ + AIè§£è¯»

### 6.2 å¯¹æ¯”åˆ†æ ğŸŸ¢
- **ç›®æ ‡**: åŒä¸€é€è§†ä¸‹å¯¹æ¯”å¤šä¸ªäº§å“
- **ä¸šåŠ¡ä»·å€¼**: ç«å“å¯¹æ¯”ã€ç‰ˆæœ¬è¿­ä»£å¯¹æ¯”
- **å¯è§†åŒ–**: å¹¶åˆ—çƒ­åŠ›å›¾ã€å·®å¼‚é«˜äº®

### 6.3 æ—¶åºåˆ†æ ğŸŸ¢
- **ç›®æ ‡**: è¿½è¸ªé€è§†æŒ‡æ ‡éšæ—¶é—´çš„å˜åŒ–
- **ä¸šåŠ¡ä»·å€¼**: ç›‘æ§äº§å“è¿­ä»£æ•ˆæœã€å¸‚åœºè¶‹åŠ¿
- **å¯è§†åŒ–**: æ—¶é—´åºåˆ—å›¾ã€è¶‹åŠ¿å¯¹æ¯”

---

## ä¸ƒã€AIè§£è¯»æœåŠ¡å®ç°çŠ¶æ€ï¼ˆ2026-01-25æ›´æ–°ï¼‰

### 7.1 AIè§£è¯»æœåŠ¡å®Œæˆæƒ…å†µ

**åç«¯æœåŠ¡**: `backend/app/services/pivot_insight_service.py`  
**Promptæ¨¡æ¿**: `backend/app/services/pivot_insight_prompts.py`

| æ¨¡å— | AIè§£è¯»ç±»å‹ | Prompté…ç½® | åˆ†ææ–¹æ³• | æ•°æ®æ ¼å¼å¯¹é½ | çŠ¶æ€ |
|------|-----------|-----------|---------|------------|------|
| 1.1 | `decision_flow` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 1.2 | `audience_strength` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 1.3 | `decision_logic_chain` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 2.1 | `motivation_location` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 2.2 | `demand_satisfaction` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 2.3 | `motivation_emotion` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 2.4 | `rnd_priority` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.1 | `critical_weakness` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.2 | `strength_weakness` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.3 | `strength_emotion` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.4 | `improvement_priority` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.5 | `motivation_suggestion` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 3.6 | `negative_optimization` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 4.1 | `scenario_distribution` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 4.2 | `scenario_sentiment` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 4.3 | `life_moment` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 4.4 | `environment_conflict` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 5.1 | `brand_memory` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 5.2 | `recommendation_willingness` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |
| 5.3 | `brand_mind` | âœ… | âœ… | âœ… | âœ… å®Œæˆ |

**è¯´æ˜**:
- âœ… = å·²å®Œæˆ
- Prompté…ç½®ï¼šåœ¨ `pivot_insight_prompts.py` ä¸­é…ç½®
- åˆ†ææ–¹æ³•ï¼šåœ¨ `pivot_insight_service.py` ä¸­å®ç°
- æ•°æ®æ ¼å¼å¯¹é½ï¼šä¸å‰ç«¯ `dataCalculator.ts` æ ¼å¼ä¸€è‡´

### 7.2 AIè§£è¯»è¾“å‡ºæ ¼å¼

æ‰€æœ‰AIè§£è¯»ç»Ÿä¸€è¾“å‡ºä»¥ä¸‹æ ¼å¼ï¼ˆå­˜å‚¨åœ¨ `product_pivot_insights.insight_data` å­—æ®µï¼‰ï¼š

```typescript
{
  keyFindings: string[];           // å…³é”®å‘ç°ï¼ˆ2-4æ¡ï¼ŒåŒ…å«å…·ä½“æ•°æ®ï¼‰
  dataSupport: string | Array<{    // æ•°æ®æ”¯æ’‘
    metric: string;                 // æŒ‡æ ‡åç§°
    value: string;                  // æŒ‡æ ‡å€¼
  }>;
  recommendations: string[];        // è¡ŒåŠ¨å»ºè®®ï¼ˆ2-3æ¡ï¼Œå…·ä½“å¯æ‰§è¡Œï¼‰
  severity: 'info' | 'success' | 'warning' | 'error' | 'critical';
}
```

### 7.3 å‰ç«¯ä½¿ç”¨æ–¹å¼

å‰ç«¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–AIè§£è¯»ï¼š

```typescript
// ä»APIè·å–
const { insights } = await fetch(`/api/v1/share/${token}/pivot-insights`);

// ä½¿ç”¨ç¤ºä¾‹ï¼ˆä»¥1.1å†³ç­–é“¾è·¯åˆ†æä¸ºä¾‹ï¼‰
const aiDecision = insights?.audience?.find(
  (i: any) => i.insight_type === 'decision_flow'
);
const interpretation = aiDecision?.insight_data; // åŒ…å« keyFindings, dataSupport, recommendations, severity

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
<InsightCard interpretation={interpretation} />
```

---

## å…«ã€å­—æ®µçº§åˆ«å¯¹é½æ€»ç»“

### 7.1 æ•°æ®æºå­—æ®µæ˜ å°„

#### Reviewå¯¹è±¡å­—æ®µ
```typescript
review: {
  id: string,
  sentiment: 'positive' | 'neutral' | 'negative',
  rating: number,
  theme_highlights: Array<{
    theme_type: 'buyer' | 'user' | 'where' | 'when' | 'why' | 'what',
    label_name: string
  }>,
  insights: Array<{
    type: 'strength' | 'weakness' | 'suggestion' | 'scenario' | 'emotion',
    dimension: string
  }>
}
```

#### Aggregatedæ•°æ®å­—æ®µ
```typescript
{
  aggregated_themes: {
    buyer?: Array<{ label: string, count: number, review_ids: string[] }>,
    user?: Array<{ label: string, count: number, review_ids: string[] }>,
    where?: Array<{ label: string, count: number, review_ids: string[] }>,
    when?: Array<{ label: string, count: number, review_ids: string[] }>,
    why?: Array<{ label: string, count: number, review_ids: string[] }>,
    what?: Array<{ label: string, count: number, review_ids: string[] }>,
    scenario?: Array<{ label: string, count: number, review_ids: string[] }>,
    emotion?: Array<{ label: string, count: number, review_ids: string[] }>
  },
  aggregated_insights: {
    strengths?: Array<{ dimension?: string, review_id: string }>,
    weaknesses?: Array<{ dimension?: string, review_id: string }>,
    suggestions?: Array<{ dimension?: string, review_id: string }>,
    scenarios?: Array<{ dimension?: string, review_id: string }>,
    emotions?: Array<{ dimension?: string, review_id: string }>
  }
}
```

### 7.2 AIè§£è¯»å­—æ®µç»“æ„

æ‰€æœ‰AIè§£è¯»ç»Ÿä¸€ä½¿ç”¨ä»¥ä¸‹ç»“æ„ï¼š
```typescript
interface Interpretation {
  keyFindings: string[];                    // å…³é”®å‘ç°ï¼ˆå¿…å¡«ï¼‰
  dataSupport: string | Array<{             // æ•°æ®æ”¯æ’‘ï¼ˆå¿…å¡«ï¼‰
    metric: string;
    value: string;
  }>;
  recommendations: string[];                 // è¡ŒåŠ¨å»ºè®®ï¼ˆå¿…å¡«ï¼‰
  severity: 'success' | 'warning' | 'error' | 'info' | 'normal' | 'critical';
}
```

### 7.3 å¯è§†åŒ–ç»„ä»¶æ˜ å°„

| ç»„ä»¶å | æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|--------|---------|------|
| `SankeyChart` | `charts/SankeyChart.tsx` | 1.1 å†³ç­–é“¾è·¯åˆ†æ |
| `GroupedBarChart` | `charts/GroupedBarChart.tsx` | 1.2, 3.4 åˆ†ç»„æŸ±çŠ¶å›¾ |
| `HeatmapChart` | `charts/HeatmapChart.tsx` | 2.1, 2.2, 2.3, 3.1, 3.3, 3.5 çƒ­åŠ›å›¾ |
| `BiDirectionalBarChart` | `charts/BiDirectionalBarChart.tsx` | 3.2 åŒå‘æŸ±çŠ¶å›¾ |
| `SlicedHeatmapChart` | `charts/SlicedHeatmapChart.tsx` | æ‰€æœ‰3Dç»„åˆ |
| HTML Table | å†…è” | 4.1, 4.2 çƒ­åŠ›å›¾è¡¨æ ¼ |

---

## å…«ã€æ€»ç»“

### âœ… å·²å®Œæˆ
1. **100%è¦†ç›–**ï¼š18ç§ç²¾é€‰é€è§†ç»„åˆå…¨éƒ¨å®ç°
2. **5ä¸ª3Dç»„åˆ**ï¼šä½¿ç”¨SlicedHeatmapChartç»Ÿä¸€å¯è§†åŒ–
3. **ç»Ÿä¸€é£æ ¼**ï¼šé€šè¿‡moduleConfigå®ç°ä¸€è‡´çš„è§†è§‰ä½“éªŒ
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šåç«¯é¢„èšåˆ + å‰ç«¯é™çº§è®¡ç®—
5. **å­—æ®µå¯¹é½**ï¼šæ‰€æœ‰æ•°æ®æºå­—æ®µå·²å¯¹é½åˆ°å­—æ®µçº§åˆ«ï¼ˆ2026-01-25ï¼‰

### ğŸ¯ æ ¸å¿ƒä»·å€¼
- **æ·±åº¦æ´å¯Ÿ**ï¼š3Dç»„åˆæ­ç¤ºå¤æ‚å†³ç­–è·¯å¾„
- **ä¸šåŠ¡é—­ç¯**ï¼šä»å‘ç°é—®é¢˜åˆ°åˆ¶å®šæ–¹æ¡ˆçš„å®Œæ•´é“¾è·¯
- **çµæ´»æ‰©å±•**ï¼šç»Ÿä¸€æ¶æ„æ”¯æŒå¿«é€Ÿæ·»åŠ æ–°ç»´åº¦
- **æ•°æ®å‡†ç¡®**ï¼šæ˜ç¡®åŒºåˆ† `theme_highlights` å’Œ `insights` æ•°æ®æº

### ğŸ“ˆ ä¸šåŠ¡æˆæœ
é€šè¿‡18ç§é€è§†ç»„åˆï¼Œäº§å“ç»ç†å¯ä»¥ï¼š
- ç²¾å‡†å®šä½ç›®æ ‡å—ä¼—ï¼ˆäººç¾¤æ´å¯Ÿï¼‰
- è¯†åˆ«æ ¸å¿ƒç—›ç‚¹ï¼ˆéœ€æ±‚æ´å¯Ÿï¼‰
- åˆ¶å®šè¿­ä»£ä¼˜å…ˆçº§ï¼ˆäº§å“æ´å¯Ÿï¼‰
- æŒ–æ˜æµé‡å¯†ç ï¼ˆåœºæ™¯æ´å¯Ÿï¼‰
- è¯„ä¼°å“ç‰Œä»·å€¼ï¼ˆå“ç‰Œæ´å¯Ÿï¼‰

### ğŸ” å…³é”®ä¿®å¤ï¼ˆ2026-01-25ï¼‰
- **4.1**: ä¿®å¤æ•°æ®æºï¼Œä» `theme_highlights` è·å– `where` å’Œ `when`
- **4.2**: ä¿®å¤æ•°æ®æºï¼Œä» `insights` è·å– `scenario` å’Œ `emotion`ï¼ˆä¸æ˜¯ä» `theme_highlights`ï¼‰
- **æ ‡é¢˜æ›´æ–°**: 4.1å’Œ4.2æ˜ç¡®æ ‡æ³¨ä¸º"å®Œæ•´äº¤å‰å…³ç³»çƒ­åŠ›å›¾"

**è¿™æ˜¯ä¸€ä¸ªå®Œæ•´ã€ç»Ÿä¸€ã€å¯æ‰©å±•çš„æ•°æ®é€è§†åˆ†æç³»ç»Ÿã€‚** ğŸ‰
